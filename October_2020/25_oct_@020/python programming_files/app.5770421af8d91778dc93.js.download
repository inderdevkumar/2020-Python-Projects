!function(e){function t(t){for(var r,i,s=t[0],l=t[1],c=t[2],d=0,m=[];d<s.length;d++)i=s[d],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&m.push(a[i][0]),a[i]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);for(u&&u(t);m.length;)m.shift()();return o.push.apply(o,c||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,s=1;s<n.length;s++){var l=n[s];0!==a[l]&&(r=!1)}r&&(o.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},a={0:0},o=[];function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/assets/js/compiled/";var s=window.webpackJsonplegacy_tutor_write_answer=window.webpackJsonplegacy_tutor_write_answer||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var c=0;c<s.length;c++)t(s[c]);var u=l;o.push([327,1]),n()}({0:function(e,t){e.exports=window.React},102:function(e,t,n){e.exports={"checklist-title":"checklist-title-beK8W",checklistTitle:"checklist-title-beK8W","checklist-icon-wrapper":"checklist-icon-wrapper-1e5Wz",checklistIconWrapper:"checklist-icon-wrapper-1e5Wz","checklist-icon":"checklist-icon-1qLhM",checklistIcon:"checklist-icon-1qLhM"}},156:function(e,t,n){e.exports={"error-outline":"error-outline",errorOutline:"error-outline",sweetAlertIcon:"sweetAlertIcon"}},160:function(e,t,n){e.exports={container:"container-xBQUZ"}},161:function(e,t,n){e.exports={error:"error-19w6r"}},21:function(e,t,n){e.exports={"quill-widget":"quill-widget",quillWidget:"quill-widget","quill-widget-editor":"quill-widget-editor",quillWidgetEditor:"quill-widget-editor","quill-reduced":"quill-reduced",quillReduced:"quill-reduced","ql-bold":"ql-bold",qlBold:"ql-bold","ql-italic":"ql-italic",qlItalic:"ql-italic","ql-script":"ql-script",qlScript:"ql-script","ql-list":"ql-list",qlList:"ql-list","ql-formula":"ql-formula",qlFormula:"ql-formula","ql-clean":"ql-clean",qlClean:"ql-clean","ql-underline":"ql-underline",qlUnderline:"ql-underline","ql-formats":"ql-formats",qlFormats:"ql-formats","quill-attachments":"quill-attachments",quillAttachments:"quill-attachments","quill-attachment":"quill-attachment",quillAttachment:"quill-attachment","border-bottom-0":"border-bottom-0",borderBottom0:"border-bottom-0","quill-upload-progress-bar-container":"quill-upload-progress-bar-container",quillUploadProgressBarContainer:"quill-upload-progress-bar-container","quill-upload-progress-bar":"quill-upload-progress-bar",quillUploadProgressBar:"quill-upload-progress-bar","quill-upload-progress-background":"quill-upload-progress-background",quillUploadProgressBackground:"quill-upload-progress-background","scroll-background":"scroll-background",scrollBackground:"scroll-background",complete:"complete","quill-upload-progress-bar-content":"quill-upload-progress-bar-content",quillUploadProgressBarContent:"quill-upload-progress-bar-content","chi-document":"chi-document",chiDocument:"chi-document","quill-file-name":"quill-file-name",quillFileName:"quill-file-name","quill-file-delete-button":"quill-file-delete-button",quillFileDeleteButton:"quill-file-delete-button","quill-file-delete":"quill-file-delete",quillFileDelete:"quill-file-delete","quill-validation-fail":"quill-validation-fail",quillValidationFail:"quill-validation-fail","quill-expand-sidebar":"quill-expand-sidebar",quillExpandSidebar:"quill-expand-sidebar","position-relative":"position-relative",positionRelative:"position-relative","quill-sidebar-expand-toggle":"quill-sidebar-expand-toggle",quillSidebarExpandToggle:"quill-sidebar-expand-toggle","ql-tooltip":"ql-tooltip",qlTooltip:"ql-tooltip","ql-editing":"ql-editing",qlEditing:"ql-editing","ql-formula-text":"ql-formula-text",qlFormulaText:"ql-formula-text","ql-action":"ql-action",qlAction:"ql-action",highlighted:"highlighted","ql-toolbar":"ql-toolbar",qlToolbar:"ql-toolbar","ql-snow":"ql-snow",qlSnow:"ql-snow","ql-active":"ql-active",qlActive:"ql-active","ql-stroke":"ql-stroke",qlStroke:"ql-stroke","ql-fill":"ql-fill",qlFill:"ql-fill","ql-container":"ql-container",qlContainer:"ql-container","ql-editor":"ql-editor",qlEditor:"ql-editor","ql-blank":"ql-blank",qlBlank:"ql-blank","ql-min-char":"ql-min-char",qlMinChar:"ql-min-char","text-alternative-danger-red":"text-alternative-danger-red",textAlternativeDangerRed:"text-alternative-danger-red","text-neutral-500":"text-neutral-500",textNeutral500:"text-neutral-500"}},213:function(e,t,n){e.exports={"status-now":"status-now",statusNow:"status-now","status-later":"status-later",statusLater:"status-later"}},214:function(e,t,n){e.exports={header:"header","title-container":"title-container",titleContainer:"title-container",title:"title"}},215:function(e,t,n){e.exports={"days-container":"days-container",daysContainer:"days-container",day:"day","day-times":"day-times",dayTimes:"day-times"}},237:function(e,t,n){e.exports={accordion:"accordion",btn:"btn","btn-link":"btn-link",btnLink:"btn-link","bonus-time-description":"bonus-time-description",bonusTimeDescription:"bonus-time-description",description:"description","tooltip-wrapper":"tooltip-wrapper",tooltipWrapper:"tooltip-wrapper",tooltip:"tooltip","tooltip-bottom":"tooltip-bottom",tooltipBottom:"tooltip-bottom","tooltip-inner":"tooltip-inner",tooltipInner:"tooltip-inner","accordion-card":"accordion-card",accordionCard:"accordion-card","card-header":"card-header",cardHeader:"card-header"}},238:function(e,t,n){e.exports={"beta-badge":"beta-badge",betaBadge:"beta-badge"}},239:function(e,t,n){e.exports={"days-prizes-container":"days-prizes-container",daysPrizesContainer:"days-prizes-container",title:"title","prize-grid":"prize-grid",prizeGrid:"prize-grid","day-prize-1":"day-prize-1",dayPrize1:"day-prize-1","day-prize-2":"day-prize-2",dayPrize2:"day-prize-2","day-prize-3":"day-prize-3",dayPrize3:"day-prize-3","days-required":"days-required",daysRequired:"days-required",filled:"filled"}},240:function(e,t,n){e.exports={"week-day-grid-container":"week-day-grid-container",weekDayGridContainer:"week-day-grid-container",title:"title","week-day-grid-tooltip":"week-day-grid-tooltip",weekDayGridTooltip:"week-day-grid-tooltip",tooltip:"tooltip","tooltip-bottom":"tooltip-bottom",tooltipBottom:"tooltip-bottom","tooltip-inner":"tooltip-inner",tooltipInner:"tooltip-inner","week-day-grid":"week-day-grid",weekDayGrid:"week-day-grid","week-day":"week-day",weekDay:"week-day",today:"today","day-name":"day-name",dayName:"day-name",qualified:"qualified"}},241:function(e,t,n){e.exports={"rating-container":"rating-container",ratingContainer:"rating-container",title:"title","icon-container":"icon-container",iconContainer:"icon-container"}},242:function(e,t,n){e.exports={"weekly-bonus-container":"weekly-bonus-container",weeklyBonusContainer:"weekly-bonus-container","header-container":"header-container",headerContainer:"header-container","btn-icon-borderless":"btn-icon-borderless",btnIconBorderless:"btn-icon-borderless"}},292:function(e,t,n){e.exports={"weekly-bonus-info-modal":"weekly-bonus-info-modal",weeklyBonusInfoModal:"weekly-bonus-info-modal","modal-content":"modal-content",modalContent:"modal-content","modal-close":"modal-close",modalClose:"modal-close","bonus-info-icon":"bonus-info-icon",bonusInfoIcon:"bonus-info-icon","acknowledge-button":"acknowledge-button",acknowledgeButton:"acknowledge-button","beta-tag":"beta-tag",betaTag:"beta-tag",subtitle:"subtitle","info-column":"info-column",infoColumn:"info-column","modal-overlay":"modal-overlay",modalOverlay:"modal-overlay","modal-dialog":"modal-dialog",modalDialog:"modal-dialog"}},293:function(e,t,n){e.exports={"today-answer-count":"today-answer-count",todayAnswerCount:"today-answer-count",total:"total"}},294:function(e,t,n){e.exports={timeleft:"timeleft"}},295:function(e,t,n){e.exports={"progress-bar":"progress-bar",progressBar:"progress-bar","bar-1":"bar-1",bar1:"bar-1","bar-2":"bar-2",bar2:"bar-2","bar-3":"bar-3",bar3:"bar-3",filled:"filled","filled-plus":"filled-plus",filledPlus:"filled-plus"}},296:function(e,t,n){e.exports={"questions-answered-today-container":"questions-answered-today-container",questionsAnsweredTodayContainer:"questions-answered-today-container","answered-timeleft-container":"answered-timeleft-container",answeredTimeleftContainer:"answered-timeleft-container"}},305:function(e,t,n){e.exports={"back-to-dashboard-btn":"back-to-dashboard-btn",backToDashboardBtn:"back-to-dashboard-btn"}},306:function(e,t,n){e.exports={title:"title"}},307:function(e,t,n){e.exports={"weekly-bonus-card-container":"weekly-bonus-card-container",weeklyBonusCardContainer:"weekly-bonus-card-container",emoji:"emoji","close-card":"close-card",closeCard:"close-card",btn:"btn","prize-grid-title-container":"prize-grid-title-container",prizeGridTitleContainer:"prize-grid-title-container","open-modal":"open-modal",openModal:"open-modal"}},308:function(e,t,n){e.exports={"nav-info-container":"nav-info-container",navInfoContainer:"nav-info-container","inner-wrapper":"inner-wrapper",innerWrapper:"inner-wrapper","bonus-progress-container":"bonus-progress-container",bonusProgressContainer:"bonus-progress-container","questions-answered-today":"questions-answered-today",questionsAnsweredToday:"questions-answered-today","weekly-bonus-card-mobile":"weekly-bonus-card-mobile",weeklyBonusCardMobile:"weekly-bonus-card-mobile",small:"small","progress-bar":"progress-bar",progressBar:"progress-bar","today-answer-count":"today-answer-count",todayAnswerCount:"today-answer-count","weekly-bonus-card-desktop":"weekly-bonus-card-desktop",weeklyBonusCardDesktop:"weekly-bonus-card-desktop",btn:"btn","chi-remove":"chi-remove",chiRemove:"chi-remove"}},309:function(e,t,n){e.exports={"comment-field":"comment-field",commentField:"comment-field","form-group":"form-group",formGroup:"form-group"}},310:function(e,t,n){e.exports={btn:"btn"}},311:function(e,t,n){e.exports={"posted-comment-container":"posted-comment-container",postedCommentContainer:"posted-comment-container","text-danger":"text-danger",textDanger:"text-danger",comment:"comment"}},312:function(e,t,n){e.exports={"display-content-container":"display-content-container",displayContentContainer:"display-content-container",body:"body",title:"title","display-text":"display-text",displayText:"display-text","display-attachments":"display-attachments",displayAttachments:"display-attachments",options:"options","chi-flag-filled":"chi-flag-filled",chiFlagFilled:"chi-flag-filled","text-danger":"text-danger",textDanger:"text-danger"}},313:function(e,t,n){e.exports={"question-card-footer":"question-card-footer",questionCardFooter:"question-card-footer","left-container":"left-container",leftContainer:"left-container",subject:"subject","right-container":"right-container",rightContainer:"right-container","price-container":"price-container",priceContainer:"price-container","total-price-difficulty-bonus":"total-price-difficulty-bonus",totalPriceDifficultyBonus:"total-price-difficulty-bonus","total-price-bonus-time-bonus":"total-price-bonus-time-bonus",totalPriceBonusTimeBonus:"total-price-bonus-time-bonus","total-price-no-bonus":"total-price-no-bonus",totalPriceNoBonus:"total-price-no-bonus",tooltip:"tooltip","tooltip-bottom":"tooltip-bottom",tooltipBottom:"tooltip-bottom","tooltip-inner":"tooltip-inner",tooltipInner:"tooltip-inner","price-tooltip-content-container":"price-tooltip-content-container",priceTooltipContentContainer:"price-tooltip-content-container","tooltip-arrow":"tooltip-arrow",tooltipArrow:"tooltip-arrow"}},314:function(e,t,n){e.exports={"skip-modal":"skip-modal",skipModal:"skip-modal","modal-content":"modal-content",modalContent:"modal-content","skip-question-subject-dropdown-list":"skip-question-subject-dropdown-list",skipQuestionSubjectDropdownList:"skip-question-subject-dropdown-list","skip-question-subject-dropdown":"skip-question-subject-dropdown",skipQuestionSubjectDropdown:"skip-question-subject-dropdown","is-invalid":"is-invalid",isInvalid:"is-invalid","header-icon":"header-icon",headerIcon:"header-icon","tooltip-icon":"tooltip-icon",tooltipIcon:"tooltip-icon","reason-heading":"reason-heading",reasonHeading:"reason-heading"}},315:function(e,t,n){e.exports={"modal-content":"modal-content",modalContent:"modal-content"}},316:function(e,t,n){e.exports={"question-outer-container":"question-outer-container",questionOuterContainer:"question-outer-container",avatar:"avatar",hidden:"hidden","question-container":"question-container",questionContainer:"question-container","bonus-notice-container":"bonus-notice-container",bonusNoticeContainer:"bonus-notice-container","submit-btn":"submit-btn",submitBtn:"submit-btn","form-control":"form-control",formControl:"form-control",isTooltip:"isTooltip","tooltip-bottom":"tooltip-bottom",tooltipBottom:"tooltip-bottom",isGray:"isGray"}},317:function(e,t,n){e.exports={"bonus-notice":"bonus-notice",bonusNotice:"bonus-notice",tooltip:"tooltip","tooltip-bottom":"tooltip-bottom",tooltipBottom:"tooltip-bottom","tooltip-arrow":"tooltip-arrow",tooltipArrow:"tooltip-arrow",content:"content","tooltip-inner":"tooltip-inner",tooltipInner:"tooltip-inner"}},318:function(e,t,n){e.exports={"atd-banner-container":"atd-banner-container",atdBannerContainer:"atd-banner-container"}},320:function(e,t,n){e.exports={"quill-widget":"quill-widget",quillWidget:"quill-widget","ql-container":"ql-container",qlContainer:"ql-container","ql-snow":"ql-snow",qlSnow:"ql-snow"}},323:function(e,t,n){e.exports={"quill-widget":"quill-widget",quillWidget:"quill-widget","quill-upload-progress-bar":"quill-upload-progress-bar",quillUploadProgressBar:"quill-upload-progress-bar","quill-upload-progress-background":"quill-upload-progress-background",quillUploadProgressBackground:"quill-upload-progress-background",complete:"complete","ql-container":"ql-container",qlContainer:"ql-container","ql-snow":"ql-snow",qlSnow:"ql-snow","attach-file-section":"attach-file-section",attachFileSection:"attach-file-section","attach-file-button":"attach-file-button",attachFileButton:"attach-file-button"}},324:function(e,t,n){e.exports={"compliance-summary-container":"compliance-summary-container",complianceSummaryContainer:"compliance-summary-container",prompt:"prompt","prompt-icon":"prompt-icon",promptIcon:"prompt-icon","compliance-summary":"compliance-summary",complianceSummary:"compliance-summary"}},325:function(e,t,n){e.exports={"answer-explanation-container":"answer-explanation-container",answerExplanationContainer:"answer-explanation-container","submitted-answer-explanation-container":"submitted-answer-explanation-container",submittedAnswerExplanationContainer:"submitted-answer-explanation-container",avatar:"avatar","answer-explanation":"answer-explanation",answerExplanation:"answer-explanation",prompt:"prompt","prompt-icon":"prompt-icon",promptIcon:"prompt-icon","submitted-answer-explanation":"submitted-answer-explanation",submittedAnswerExplanation:"submitted-answer-explanation","display-name":"display-name",displayName:"display-name","mcq-answer-option":"mcq-answer-option",mcqAnswerOption:"mcq-answer-option","error-prompt":"error-prompt",errorPrompt:"error-prompt","error-text":"error-text",errorText:"error-text","quill-widget":"quill-widget",quillWidget:"quill-widget","ql-container":"ql-container",qlContainer:"ql-container","ql-snow":"ql-snow",qlSnow:"ql-snow"}},326:function(e,t,n){e.exports={"app-container":"app-container",appContainer:"app-container"}},327:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n(63),o="/api/v1/questions/",i="You",s="Another Tutor",l="Student",c="displaying the Answer Page",u="displaying the questions answered today",d="displaying the answer and explanation",m="displaying the question",p="displaying the answer",f="displaying the explanation",h="displaying the comments",v="displaying the attachments",g=n(4),y=n.n(g),b=n(5),w=n.n(b),E=n(12),q=n.n(E),x=n(2),S=n.n(x),k=n(99),T=n(35),C=n.n(T),N=n(158),I=n.n(N),O=n(168),P=n(9),j=n.n(P),A=n(13),R=n.n(A),D=function(){function e(){j()(this,e)}return R()(e,null,[{key:"pluralize",value:function(e,t){return Array.isArray(t)?1===e?t[0]:t[1]:t+(1===e?"":"s")}},{key:"boldWord",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"strong",r=new RegExp("("+this.escapeRegExp(t)+")","gi");return e.replace(r,"<"+n+">$1</"+n+">")}},{key:"formatNumber",value:function(e){return e.replace(/\B(?=(\d{3})+(?!\d))/g,",")}},{key:"escapeRegExp",value:function(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}},{key:"removeSpaces",value:function(e){return e.replace(/\s+/g,"")}},{key:"decodeHtmlEntities",value:function(e){return e.replace(/&amp;/g,"&").replace(/&gt;/g,">").replace(/&lt;/g,"<")}}]),e}(),_=n(170),F=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Date;if(Object(_.a)(e))return e;if(null==e||""===e){if(t)return n;throw new Error("The date string cannot be null, undefined, or empty")}var r=e,a=r[19];if("-"===a||"+"===a){var o=r.replace(/([+-]\d\d)(\d\d)$/,"$1:$2");return o}throw new Error("A valid timezone offset is required to parse this date string")},B=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return n?M(F(e),F(t)):M(e,t)},M=function(e,t){var n=new Date(e),r=new Date(t),a=Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()),o=Date.UTC(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds())-a,i=o<0,s=Math.floor(Math.abs(o/1e3)),l=Math.floor(Math.abs(o/6e4)),c=Math.floor(Math.abs(o/36e5));return{days:Math.floor(Math.abs(o/864e5)),hours:c,minutes:l,seconds:s,hasLaterDatePassed:i,totalMs:o}},U=(n(81),function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=D.pluralize,r=e.days,a=e.hours,o=e.minutes,i=e.seconds,s=e.hasLaterDatePassed,l=t.startText,c=void 0===l?"":l,u=t.endText,d=void 0===u?"":u,m=t.dateHasPassedText,p=n(r,["day","days"]),f=n(a,["hour","hours"]),h=n(o,["minute","minutes"]),v=n(i,["second","seconds"]);return s&&m?m:r>0?"".concat(c," ").concat(r," ").concat(p," ").concat(d).trim():a>0?"".concat(c," ").concat(a," ").concat(f," ").concat(d).trim():o>0?"".concat(c," ").concat(o," ").concat(h," ").concat(d).trim():i>0?"".concat(c," ").concat(i," ").concat(v," ").concat(d).trim():"Just now"}),Q=n(64),L=n.n(Q),z={minimumFractionDigits:2},W=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:z,n=t.minimumFractionDigits;return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:n}).format(e/100)},G=function(e){return e.reduce((function(e,t){return t.qualified&&(e+=1),e}),0)},H=n(65),Y=n.n(H);function V(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function K(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?V(Object(n),!0).forEach((function(t){y()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var J,X,Z,ee,te,ne=function(e,t,n){var r=function(e,t,n){var r=e.expertReservationExpiresOn,a=e.isMCQ,o=e.answerIdentifiers,i=e.question,s=i.deadline,l=i.derived_question_status,c=i.category.subject,u=e.atdDocInfo,d=e.amplitudeEventProperties,m=e.isTextbookQuestion;return{price:t,subject:c,questionStatus:l,isMCQ:a,answerIdentifiers:o,deadline:F(s),expertReservationExpiresOn:F(r,!0,""),bonusList:n,amplitudeEventProperties:d,isTextbookQuestion:m,atdDocInfo:0===u.length?null:u}}(t,n.basePrice,n.bonusList),a=I()(e),o=a[0],i=a.slice(1),s=re({isTextbookQuestion:r.isTextbookQuestion})(o),l=i.map(re());return{question:K(K({},s),r),answers:l}},re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t){var n=e.isTextbookQuestion,r=void 0!==n&&n;return Object(O.a)(t,(function(e){var n=t.user,a=t.flags,o=t.answer,i=t.visibility,s=t.explanation,l=t.type,c=t.user_id,u=t.has_violation,d=t.attachment,m=t.child_relationships,p=t.display_text,f=t.qa_thread_id,h=t.question_id,v=t.num_upvotes,g=t.num_downvotes,y=t.date_t,b=t.qa_thread_compliance_summary;return{threadType:l,qaThreadId:f,questionId:h,numUpvotes:v,numDownvotes:g,visibility:i,hasViolation:u,date:y,explanation:s,qaThreadComplianceSummary:{isCompliant:b.is_compliant,isProcessing:b.is_processing,isSpam:b.is_spam,isPlagiarism:b.is_plagiarism,isCopyright:b.is_copyright_detected,questionContentDetected:b.is_question_content_detected},displayText:se(p,r),user:void 0===n?null:ae("user",n),askerRating:ae("answer",o,{qaThreadId:f}),flags:ae("flags",a),attachments:ae("attachments",d),comments:ae("comments",m,{comments:{parentThreadType:l},user:{questionUserId:c}})}}),{})}},ae=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};switch(e){case"attachments":return t.map((function(e){return{attachmentId:e.question_attachment_id,attachmentName:e.users_filename}}));case"user":var r=t.profile_picture_url,a=t.display_name,o=t.user_id;return{userId:o,displayName:a,profilePictureUrl:r};case"answer":var i,s=null!==(i=null==t?void 0:t.ratings.find((function(e){return e.type_id===n.qaThreadId})))&&void 0!==i?i:null;if(null===s)return null;var l=s.rating,c=s.comment,u=void 0===c?"":c,d=s.is_like,m=s.is_dislike,p=s.type_id;return{rating:l,comment:u,isLike:d,isDislike:m,qaThreadId:p};case"comments":if(void 0===n.comments)throw new TypeError("`comments` is required");var f=n.comments,h=n.user;return t.reduce((function(e,t){var n=t.child_q_a_thread,r=n.flags,a=n.visibility,o=n.date_t,i=n.type,s=n.has_violation,l=n.display_text,c=n.qa_thread_id,u=n.question_id,d=n.user.user_id;return e[c]={threadType:i,visibility:a,hasViolation:s,displayText:l,qaThreadId:c,questionId:u,username:ie(null==h?void 0:h.questionUserId,d),parentThreadType:f.parentThreadType,flags:oe(r),date:F(o)},e}),{});case"flags":return oe(t);default:throw new Error("Unhandled key: ".concat(e))}},oe=function(e){return e.map((function(e){var t=e.message,n=e.severity,r=e.date;return{qaThreadId:e.qa_thread_id,questionFlagId:e.question_flag_id,message:t,severity:n,resolvedDate:e.resolved_date,date:F(r)}}))},ie=function(e,t){if(void 0===e)return"User";var n=+window.__CH_PERSON.id;return t===e?l:t===n?i:s},se=function(e,t){return t?e.replace(/<formula data-display="(inline|block)">((.|\n)*?)<\/formula>/g,(function(e,t,n){var r=window.katex.renderToString(D.decodeHtmlEntities(n));return'<span class="ql-formula" data-value="'.concat(n,'"><span>').concat(r,"</span></span>")})):e};!function(e){e.Error="chi-remove-circle text-alternative-danger-red",e.Info="chi-infomation-circle fa-info fa-info-circle text-primary-500",e.Success="chi-check-circle fa-check-circle text-alternative-success-green",e.Warning="chi-alert text-alternative-warning-yellow"}(J||(J={})),function(e){e.Error="Error",e.Info="Info",e.Success="Success",e.Warning="Warning"}(X||(X={})),function(e){e.Answer="answer",e.Comment="comment",e.Question="question"}(Z||(Z={})),function(e){e.NoFlag="NoFlag",e.FlagPending="FlagPending",e.FlaggedViolation="FlaggedViolation",e.FlaggedWarning="FlaggedWarning"}(ee||(ee={})),function(e){e.TaggedIncorrectSubject="Incorrect subject",e.OtherReason="Other reason",e.MissingMaterial="Missing data, graph, link, or other material",e.MissingInformation="Missing information"}(te||(te={}));var le,ce=function(e,t,n){if(t)return ee.FlaggedViolation;var r=function(e,t){if(0===t.length)return null;var n=t.find((function(t){return t.qaThreadId===e}));return void 0!==n?n:null}(e,n);return null===r?ee.NoFlag:void 0===r.resolvedDate?ee.FlagPending:ee.FlaggedWarning},ue=function(){var e=q()(w.a.mark((function e(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/api/v1/tutor/endSession/",e.prev=1,e.next=4,fetch("/api/v1/tutor/endSession/",{method:"POST",headers:{"Content-Type":"application/json"}});case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:window.location.href="/qa/expert/dashboard/";case 9:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(){return e.apply(this,arguments)}}(),de=function(e,t){var n=Object.keys(e).length;return t?"View ".concat(D.pluralize(n,["Comment","Comments"])):0===n?"Comment":"".concat(n," ").concat(D.pluralize(n,["Comment","Comments"]))},me=n(46),pe=function(e){var t=e.type,n=e.title,a=e.className,o=e.styles;return r.createElement(t,{className:a,style:o},n)},fe=function(e){var t=e.label,n=void 0===t?"":t,a=e.className,o=void 0===a?"":a,i=e.symbol;return r.createElement("span",{className:"emoji ".concat(o).trim(),role:"img","aria-label":n,"aria-hidden":""!==n?"false":"true"},i)};!function(e){e[e.OldBucket=0]="OldBucket",e[e.NewBucket=1]="NewBucket"}(le||(le={}));function he(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ve(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?he(Object(n),!0).forEach((function(t){y()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):he(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ge,ye,be,we=window.dataLayer,Ee=window.tracker;!function(e){e.PRIMARY="Primary",e.SECONDARY="Secondary",e.INTERSTITIAL="Interstitial",e.BANNER="Banner",e.LINK="Link"}(ge||(ge={})),function(e){e.TAB="Tab",e.POPUP="Pop-up",e.VIDEO="Video",e.MODAL="modal",e.RADIO_BUTTON="radio button",e.RADIO_SELECTION="Radio Selection",e.SECURE_PAYMENT_FORM="Secure Payment Form",e.CALL_TO_ACTION="Call to Action"}(ye||(ye={})),function(e){e.LOGGED_OUT="logged out",e.BASIC="basic",e.PREMIER="premier"}(be||(be={}));var qe,xe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.setPageType,a=n.timestamp;void 0!==we&&(void 0!==Ee&&Ee.super_properties instanceof Object&&(t=ve(ve({},Ee.super_properties),t)),r&&(t.page_type=Ee.get_page_type()),we.push({event:"User Tracking Event",user_tracking_properties:{eventName:e,properties:t},_clear:!0}));var o,i,s,l,c,u,d,m,p=window.amplitude;p?((null===(o=window)||void 0===o?void 0:null===(i=o.__CH_PERSON)||void 0===i?void 0:i.id)&&p.getInstance().setUserId(window.__CH_PERSON.id),(null===(s=window)||void 0===s?void 0:null===(l=s.__CH_TRACKER)||void 0===l?void 0:l.DEVICE_ID)&&p.getInstance().setDeviceId(window.__CH_TRACKER.DEVICE_ID),(null===(c=window)||void 0===c?void 0:null===(u=c.__CH_TRACKER)||void 0===u?void 0:u.SESSION)&&p.getInstance().setSessionId(window.__CH_TRACKER.SESSION),a?p.getInstance().logEventWithTimestamp(e,t,a):p.getInstance().logEvent(e,t)):null===(d=window.__CH_TRACKER)||void 0===d||null===(m=d.BUFFER)||void 0===m||m.push({eventName:e,properties:t})},Se=function(){return{path:location.pathname,referrer:window.__CH_ReactRouter_referrer||document.referrer,search:location.search,title:document.title,pageUrl:location.href}},ke=function(e){xe("CTA Clicked",Te(e))},Te=function(e){return ve(ve({},Se()),e)},Ce=n(36),Ne=n(7),Ie=function(e){var t=e.linkText,n=e.trackingFn;return r.createElement(r.Fragment,null," ",r.createElement("a",{href:"https://coursehero.helpdocs.io/article/GM0E1lQEXy-violations-probation-bans",target:"_blank",rel:"noreferrer",onClick:function(){return n(t)}},t))},Oe=n(102),Pe=function(e){var t=e.isOpen,n=e.onClose;return r.createElement(Ce.Modal,{isOpen:t,closeModal:n},r.createElement("div",{className:"container px-1 px-sm-7 py-1 py-sm-2"},r.createElement("div",{className:"row justify-content-center"},r.createElement("h4",null,"How to provide a helpful answer"),r.createElement("p",{className:"pt-2 text-sm-center"},"A great answer is easy for students to understand and follow. It also helps avoid students rejecting your solution so that you can make more money."),r.createElement("ol",{className:"list-unstyled pt-5 pb-3"},je.map((function(e,t){var n=e.icon,a=e.title,o=e.desc;return r.createElement("li",{key:a,className:"d-flex pb-4"},r.createElement("div",{className:"col-sm-1 d-sm-flex align-items-center justify-content-center ".concat(Oe.checklistIconWrapper)},r.createElement("i",{className:"".concat(n," ").concat(Oe.checklistIcon)})),r.createElement("div",{className:"col-11 d-flex flex-column ml-md-3 px-0 px-md-2"},r.createElement("p",{className:"font-weight-500 ".concat(Oe.checklistTitle)},t+1,". ",a),r.createElement("p",{className:"pt-1"},o)))}))),r.createElement(Ne.Button,{variant:"primary",onClick:n},"Got it"))))},je=[{icon:"chi-list-disc",title:"Show a step-by-step explanation for solving a problem",desc:r.createElement(r.Fragment,null,"Break down your process to show students how you arrived at the answer. This is especially useful for science, technology, engineering, and mathematics solutions.")},{icon:"chi-lightbulb-filled",title:"Explain the underlying concepts behind a problem",desc:r.createElement(r.Fragment,null,"Explain the principles and approaches so that students can apply the concept in solving other problems.")},{icon:"chi-link",title:"When relevant, include links to outside examples and resources",desc:r.createElement(r.Fragment,null,"Including a link adds context, makes your answer more trustworthy, and helps students learn.")},{icon:"chi-check-circle-filled",title:"Check for accuracy and grammar",desc:r.createElement(r.Fragment,null,"Mistakes can confuse students and make it harder for them to understand the solution. Remember that you cannot edit your answer after you submit it.")},{icon:"chi-pencil-filled",title:"Be original",desc:r.createElement(r.Fragment,null,"Use your own words to avoid plagiarism and copyright issues. If you copy content from another source your account may be blocked. See our",r.createElement(Ie,{linkText:"warning and violations policy.",trackingFn:function(e){ke({text:e,intent:"Redirect",actionType:ge.LINK,xpath:"answer quality guide overlay",destinationURL:"https://coursehero.helpdocs.io/article/GM0E1lQEXy-violations-probation-bans"})}}))}];!function(e){e.Loading="Loading",e.Resolved="Resolved",e.Error="Error"}(qe||(qe={}));var Ae=function(e,t){var n=Object(r.useRef)();Object(r.useEffect)((function(){n.current=e}),[e]),Object(r.useEffect)((function(){if(null!==t){var e=setInterval((function(){n.current()}),t);return function(){return clearInterval(e)}}}),[t])},Re=(n(76),n(160),function(e){var t=e.attachments;return r.createElement("div",{className:"mt-3"},r.createElement("span",null,"Download Attachments:"),r.createElement("ul",{className:"list-unstyled"},t.map((function(e,t){var n=e.attachmentId,a=e.attachmentName;return r.createElement("li",{key:"".concat(n,"-").concat(t)},r.createElement("i",{className:"chi-paperclip mr-1"}),r.createElement(Ne.Button,{variant:"link",onClick:function(){return De(n)}},a))}))))}),De=function(e){window.open("/qa/attachment/".concat(e,"/"),"_blank")};n(120),n(161);var _e=n(28),Fe=n.n(_e),Be=n(29),Me=n.n(Be),Ue=n(14),Qe=n.n(Ue),Le=function(e){return e?"".concat(""," d-flex"):""},ze=function(e){var t="text-primary-500 font-weight-400";return e?"".concat(t," pl-1"):t};function We(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ge(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?We(Object(n),!0).forEach((function(t){y()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):We(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var He={maxWidth:"80%",fontSize:"2rem"},Ye={fontSize:"2.5rem"},Ve=function(e){var t=e.errorDescAction,n=e.hideIcon,a=e.inlineIcon,o=e.iconStyles,i=e.errorBoundaryStyles,s=e.errorBoundaryClassNames,l="error-boundary-message d-flex ".concat(s).trim();return r.createElement("div",{className:l,style:Ge(Ge({},He),i)},r.createElement("div",{className:Le(a)},!n&&r.createElement("i",{className:"chi-smiley-poker-face text-primary-500",style:Ge(Ge({},Ye),o)}),r.createElement("p",{className:ze(a)},function(e){return void 0===e?"Oops, something went wrong. Refresh the page and try again.":"Oops, something went wrong ".concat(e,". Refresh the page and try again.")}(t))))};function $e(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Qe()(e);if(t){var a=Qe()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Me()(this,n)}}var Ke,Je,Xe,Ze,et=function(e){Fe()(n,e);var t=$e(n);function n(){var e;j()(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={hasError:!1},e}return R()(n,[{key:"render",value:function(){var e=this.state.hasError,t=this.props,n=t.children,a=t.errorDescAction,o=t.hideIcon,i=void 0!==o&&o,s=t.inlineIcon,l=void 0!==s&&s,c=t.iconStyles,u=void 0===c?{}:c,d=t.errorBoundaryStyles,m=void 0===d?{}:d,p=t.errorBoundaryClassNames,f=void 0===p?"":p;return e?r.createElement(Ve,{errorDescAction:a,hideIcon:i,inlineIcon:l,iconStyles:u,errorBoundaryStyles:m,errorBoundaryClassNames:f}):n}}],[{key:"getDerivedStateFromError",value:function(){return{hasError:!0}}}]),n}(r.Component);n(333);(Je=Ke||(Ke={})).Monday="Monday",Je.Tuesday="Tuesday",Je.Wednesday="Wednesday",Je.Thursday="Thursday",Je.Friday="Friday",Je.Saturday="Saturday",Je.Sunday="Sunday",function(e){e.Now="NOW",e.Later="LATER"}(Xe||(Xe={})),function(e){e.Loading="Loading",e.Resolved="Resolved",e.Error="Error"}(Ze||(Ze={}));var tt=n(331);n(330),n(332);var nt=function(){var e=q()(w.a.mark((function e(){var t,n;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/api/v1/tutor/weekly-bonus-qualification/",e.prev=1,e.next=4,C.a.get("/api/v1/tutor/weekly-bonus-qualification/");case 4:return t=e.sent,n=t.data,e.abrupt("return",n);case 9:throw e.prev=9,e.t0=e.catch(1),new Error("Error fetching the weekly bonus details: ".concat(e.t0));case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}();n(334),n(213),n(214),n(215),n(78);var rt,at=n(37),ot=(n(237),n(238),function(e){var t=e.daysRequired,n=e.bonusAmount,a=e.index,o=e.filledElIndex===a?"filled":"";return r.createElement("div",{className:"day-prize-".concat(a+1," ").concat(o).trim()},r.createElement("span",{className:"days-required"},t,"-day"),r.createElement("span",{className:"font-weight-500"},W(n,{minimumFractionDigits:0})))}),it=(n(239),r.memo((function(e){var t=e.title,n=e.questionsToAnswer,a=e.daysQualified,o=e.daysToAnswer,i=function(e){return e>=7?2:e>=5?1:e>=3?0:null}(G(a));return r.createElement("div",{className:"days-prizes-container"},void 0!==t?t:r.createElement("div",{className:"title"},r.createElement("div",{className:"font-weight-500"},"Answer ",n," questions"),r.createElement("div",null,"for any ",function(e){var t=S()(e,3),n=t[0],r=t[1],a=t[2];return"".concat(n.daysRequired,", ").concat(r.daysRequired,", or ").concat(a.daysRequired)}(o)," days this week")),r.createElement("div",{className:"prize-grid"},o.map((function(e,t){var n=e.id,a=e.daysRequired,o=e.bonusAmount;return r.createElement(ot,{key:n,daysRequired:a,bonusAmount:o,filledElIndex:i,index:t})}))))}))),st=(n(240),n(241),n(242),n(27)),lt=n.n(st);!function(e){e.SlightlySmilingFace="🙂",e.GrinningFaceWithSmileyEyes="😄",e.WrappedGift="🎁",e.Rocket="🚀"}(rt||(rt={}));var ct=[{icon:"chi-star-empty",title:"Answer questions for 3, 5, or 7 days each week",body:"When you answer more than 3 questions for any 3 days in a given week, you'll receive $8. 5 days gets you $10, and 7 days is worth $15. The rewards cannot accumulate.<br/><br/>*Our days and weeks are based on CT time."},{icon:"chi-thumbs-up",title:"Keep up the good work",body:"Provide quality answer to students! Your bonus payout will be subject to quality reviews."},{icon:"chi-time",title:"Receive your bonus",body:"After the week is over, we'll let you know on the following Monday if you've qualified for the reward. These earnings will be processed by Wednesday on the “View Earnings” page."}],ut=n(45),dt=function(e){var t=e.icon,n=e.title,a=e.body,o=new ut.Parser;return r.createElement("div",{className:"info-column col-md-4 col-sm-12 text-center"},r.createElement("i",{className:"".concat(t," bonus-info-icon")}),r.createElement("h5",{className:"mt-3 mb-2"},n),r.createElement("p",null,o.parse(a)))},mt=(n(292),function(e){var t=e.onClose;return r.createElement(Ce.Modal,{isOpen:!0,closeModal:t,className:"weekly-bonus-info-modal",overlayClassName:"modal-overlay"},r.createElement(fe,{symbol:rt.WrappedGift,label:"WrappedGift",className:"align-self-center h2 mt-3"}),r.createElement("div",{className:"text-center"},r.createElement("h2",null,r.createElement("span",null,"Introducing the weekly bonus for tutors"),r.createElement("span",{className:"beta-tag ml-2"},"BETA"))),r.createElement("p",{className:"text-center subtitle mt-2"},"Each week, complete our challenge — and receive extra funds!"),r.createElement("div",{className:"container mt-8"},r.createElement("div",{className:"row"},ct.map((function(e){return r.createElement(dt,lt()({key:e.title},e))})))),r.createElement("div",{className:"d-flex mb-4 justify-content-center"},r.createElement(Ne.Button,{className:"acknowledge-button",variant:"primary",size:"sm",onClick:t},"Got it")))}),pt=(n(293),function(e){var t=e.total,n=D.pluralize;return r.createElement("div",{className:"today-answer-count"},r.createElement("span",{className:"total"},t),n(t,["question","questions"])," answered today")});n(294),n(295);function ft(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ht(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ft(Object(n),!0).forEach((function(t){y()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ft(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var vt,gt,yt={marginTop:"2rem"},bt=function(e){var t=e.total,n=e.styles,a=void 0===n?{}:n,o=function(e){switch(e){case 0:return{bar1:"",bar2:"",bar3:""};case 1:return{bar1:"filled",bar2:"",bar3:""};case 2:return{bar1:"filled",bar2:"filled",bar3:""};case 3:return{bar1:"filled",bar2:"filled",bar3:"filled"};default:return{bar1:"filled",bar2:"filled",bar3:"filled-plus"}}}(t),i=o.bar1,s=o.bar2,l=o.bar3;return r.createElement("div",{className:"progress-bar",style:ht(ht({},yt),a)},r.createElement("div",{className:"bar-1 ".concat(i).trim()}),r.createElement("div",{className:"bar-2 ".concat(s).trim()}),r.createElement("div",{className:"bar-3 ".concat(l).trim()},r.createElement("i",{className:"chi-check-circle-filled"})))};n(296);(gt=vt||(vt={})).ThreadLoading="ThreadLoading",gt.ThreadError="ThreadError",gt.ThreadResolved="ThreadResolved";function wt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Et(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wt(Object(n),!0).forEach((function(t){y()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var qt,xt=r.createContext,St=r.useContext,kt=r.useEffect,Tt=xt(void 0),Ct=xt(void 0);!function(e){e[e.USER=1]="USER",e[e.EXPERT=16]="EXPERT"}(qt||(qt={}));var Nt=function(e){var t=e.children,n=e.questionId,a=Object(k.a)(Pt),o=S()(a,2),i=o[0],s=o[1];kt((function(){(function(){var e=q()(w.a.mark((function e(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,jt(n,s);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[n,s]);var l=i.status;switch(l){case vt.ThreadLoading:return r.createElement(me.Spinner,{variant:"md",margin:{mt:7,mb:7},className:"text-center","data-testid":"loading-threads-spinner"});case vt.ThreadResolved:return r.createElement(Tt.Provider,{value:i},r.createElement(Ct.Provider,{value:s},t));case vt.ThreadError:return r.createElement(pe,{type:"h3",className:"mt-5",title:"There was a problem loading the question, please refresh the page."});default:throw new Error("Unhandled status: ".concat(l))}},It=function(){var e=St(Tt);if(void 0===e)throw new Error("useThreadState must be used within a ThreadContextProvider.");return e},Ot=function(e){var t=St(Tt),n=St(Ct);if(void 0===t||void 0===n)throw new Error("useThreadStateUpdater must be used within a ThreadContextProvider.");var r=e.qaThreadId,a=e.parentThreadType,o=e.userId,i=e.displayName;if(void 0!==r&&void 0!==a){var s=function(e,t){var n=t.question,r=t.answers,a=t.parentThreadType;if(null!==a){if(a===Z.Question)return{thread:n.comments[e],threadType:Z.Comment,parentThreadType:Z.Question,index:0};for(var o=0;o<r.length;o++){var i=r[o];if(void 0!==i.comments[e])return{thread:i.comments[e],threadType:Z.Comment,parentThreadType:Z.Answer,index:o}}}if(n.qaThreadId===e)return{thread:n,threadType:Z.Question,parentThreadType:null,index:0};for(var s=0;s<r.length;s++){var l=r[s];if(l.qaThreadId===e)return{thread:l,threadType:Z.Answer,parentThreadType:null,index:s}}throw new Error("Invalid or missing `qaThreadId`")}(r,{question:t.question,answers:t.answers,parentThreadType:a}),l=s.index,c=s.thread,u=s.threadType,d=s.parentThreadType,m={setThreadState:n,flagThread:Rt(n,{threadType:u,index:l,qaThreadId:c.qaThreadId,questionId:c.questionId,parentThreadType:d}),addComment:At(n,{index:l,questionId:c.questionId,parentQAThreadId:c.qaThreadId,parentThreadType:u}),answerQuestion:void 0};return void 0!==o&&void 0!==i?Et(Et({},m),{},{answerQuestion:Dt(n,{index:l,questionId:c.questionId,userId:o,displayName:i})}):m}return{setThreadState:n,flagThread:void 0,addComment:void 0,answerQuestion:void 0}},Pt=function(){var e,t={displayText:"",qaThreadId:0,questionId:0,attachments:[],numDownvotes:0,numUpvotes:0,visibility:qt.USER,hasViolation:!1,questionStatus:"Asked",price:0,subject:"",deadline:new Date,expertReservationExpiresOn:new Date,user:{profilePictureUrl:"",displayName:"",userId:0},qaThreadComplianceSummary:{isCompliant:!0,isProcessing:!1,isSpam:!1,isPlagiarism:!1,isCopyright:!1,questionContentDetected:!1},comments:{},flags:[],isMCQ:!1,answerIdentifiers:[],bonusList:[],atdDocInfo:null,amplitudeEventProperties:{},isTextbookQuestion:!1};return e={},y()(e,"question",Et(Et({},t),{},{askerRating:null,threadType:Z.Question})),y()(e,"answers",[]),y()(e,"status",vt.ThreadLoading),e},jt=function(){var e=q()(w.a.mark((function e(t,n){var r,a,i,s,l,c,u,d,m,p,f;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n((function(e){e.status=vt.ThreadLoading})),r="".concat(o).concat(t,"/"),a="".concat(o).concat(t,"/threads/"),i="".concat(o).concat(t,"/base-price/"),e.prev=4,e.next=7,Promise.all([C.a.get(r).then((function(e){return e.data})),C.a.get(a).then((function(e){return e.data})),C.a.get(i).then((function(e){return e.data}))]);case 7:s=e.sent,l=S()(s,3),c=l[0],u=l[1],d=l[2],m=ne(u.threads,c,d),p=m.question,f=m.answers,n((function(e){e.status=vt.ThreadResolved,e.question=p,e.answers=f})),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(4),console.error(e.t0),n((function(e){e.status=vt.ThreadError}));case 20:case"end":return e.stop()}}),e,null,[[4,16]])})));return function(t,n){return e.apply(this,arguments)}}(),At=function(e,t){return function(){var n=q()(w.a.mark((function n(r){var a,s,l,c,u,d,m,p,f,h,v,g;return w.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=t.questionId,s=t.parentQAThreadId,l=t.parentThreadType,c=t.index,u=r.message,d=r.visibility,m="".concat(o).concat(a,"/threads/").concat(s,"/comment/"),n.prev=3,n.next=6,fetch(m,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:u,visibility:d})});case 6:return p=n.sent,n.next=9,p.json();case 9:f=n.sent,h=f.thread,v=h.date_t,g=h.qa_thread_id,e((function(e){var t={visibility:d,questionId:a,parentThreadType:l,username:i,date:F(v),flags:[],hasViolation:!1,threadType:Z.Comment,displayText:u,qaThreadId:g};l===Z.Question?e.question.comments[g]=t:e.answers[c].comments[g]=t})),n.next=19;break;case 16:throw n.prev=16,n.t0=n.catch(3),new Error("Failed to add comment: ".concat(n.t0));case 19:case"end":return n.stop()}}),n,null,[[3,16]])})));return function(e){return n.apply(this,arguments)}}()},Rt=function(e,t){return function(){var n=q()(w.a.mark((function n(r){var a,i,s,l,c,u;return w.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=t.questionId,i=t.qaThreadId,s=t.threadType,l=t.index,c=t.parentThreadType,u="".concat(o).concat(a,"/threads/").concat(i,"/flag/"),n.prev=2,n.next=5,fetch(u,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});case 5:e((function(e){var t=r.reasonText,n={severity:r.severity,qaThreadId:i,questionFlagId:Math.floor(1e3*Math.random()),message:t,date:"",resolvedDate:void 0};s===Z.Question?e.question.flags.push(n):s===Z.Answer?e.answers[l].flags.push(n):c===Z.Question?e.question.comments[i].flags.push(n):c===Z.Answer&&e.answers[l].comments[i].flags.push(n)})),n.next=11;break;case 8:throw n.prev=8,n.t0=n.catch(2),new Error("Failed to flag thread: ".concat(n.t0));case 11:case"end":return n.stop()}}),n,null,[[2,8]])})));return function(e){return n.apply(this,arguments)}}()},Dt=function(e,t){return function(){var n=q()(w.a.mark((function n(r){var a,i,s,l,c,u,d,m,p;return w.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=t.questionId,i=t.userId,s=t.displayName,l=r.displayText,c=r.explanation,u=r.attachments,d="".concat(o).concat(a,"/answer/"),"wait",n.prev=4,n.next=7,fetch(d,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:l,explanation:c,attachmentIds:u.map((function(e){return e.uploadStatus.questionAttachmentId})),source:"wait"})});case 7:return m=n.sent,n.next=10,m.json();case 10:return p=n.sent,m.ok&&e((function(e){var t=p.containsQuestionText,n=p.threadId,r=p.threadDate,o={questionId:a,displayText:l,qaThreadId:n,threadType:Z.Answer,explanation:c,attachments:u.map((function(e){return{attachmentId:e.uploadStatus.questionAttachmentId,attachmentName:e.name}})),qaThreadComplianceSummary:{isCompliant:null,isProcessing:!1,isSpam:!1,isPlagiarism:!1,isCopyright:!1,questionContentDetected:t},user:{profilePictureUrl:"/api/v1/users/photo/".concat(i,"/"),displayName:s,userId:i},date:F(r),visibility:qt.EXPERT,hasViolation:!1,flags:[],comments:[],numDownvotes:0,numUpvotes:0,askerRating:null};e.answers.push(o)})),n.abrupt("return",p);case 15:throw n.prev=15,n.t0=n.catch(4),new Error("Failed to answer question: ".concat(n.t0));case 18:case"end":return n.stop()}}),n,null,[[4,15]])})));return function(e){return n.apply(this,arguments)}}()},_t=n(33),Ft=function(e,t){if(!e)return null;var n=function(e){var t=D.pluralize,n=e.apiStatus,r=e.today.questionsAnswered,a=e.weekly.daysQualified;if(n===Ze.Loading||3!==r)return null;var o=G(a);switch(o){case 0:return null;case 3:case 5:case 7:return{emojiSymbol:rt.GrinningFaceWithSmileyEyes,emojiLabel:"GrinningFaceWithSmileyEyes",title:"You've qualified for this week's bonus!"};default:return{emojiSymbol:rt.SlightlySmilingFace,emojiLabel:"SlightlySmilingFace",title:"Good job! You are qualified for ".concat(o," ").concat(t(o,["day","days"]),".")}}}(t);return null===n?null:n},Bt=n(94),Mt=(n(305),function(){var e=(0,r.useState)(!1),t=S()(e,2),n=t[0],a=t[1];return r.createElement("div",{className:"back-to-dashboard"},r.createElement(Ne.Button,{variant:"tertiary",onClick:function(){return Ut(n,a)},className:"back-to-dashboard-btn"},r.createElement("i",{className:"chi-arrow-left"}),n?r.createElement("i",{className:"chi-loading"}):r.createElement(r.Fragment,null,r.createElement("span",{className:"d-md-none"},"Dashboard"),r.createElement("span",{className:"d-none d-md-block"},"Back to dashboard"))))}),Ut=function(){var e=q()(w.a.mark((function e(t,n){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=2;break}return e.abrupt("return");case 2:return"/api/v1/questions/tutor-unreserve/",n(!0),e.prev=4,e.next=7,fetch("/api/v1/questions/tutor-unreserve/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({releaseReason:"end session"})});case 7:e.next=11;break;case 9:e.prev=9,e.t0=e.catch(4);case 11:ue();case 12:case"end":return e.stop()}}),e,null,[[4,9]])})));return function(t,n){return e.apply(this,arguments)}}(),Qt=(n(306),function(e){var t=e.title,n=e.emojiLabel,a=e.emojiSymbol,o=e.onClose;return r.createElement(r.Fragment,null,r.createElement("div",{className:"title"},r.createElement("h6",null,r.createElement(fe,{symbol:a,label:n})," ",t),r.createElement("span",{className:"pl-1"},"Keep answering questions to earn more.")),r.createElement(Ne.Button,{className:"btn btn-icon-borderless close-card",onClick:o},r.createElement("i",{className:"chi-remove"})))}),Lt=(n(307),function(e){var t=r.useState,n=e.daysToAnswer,a=e.daysQualified,o=L()(e,["daysToAnswer","daysQualified"]),i=t(!1),s=S()(i,2),l=s[0],c=s[1];return r.createElement(r.Fragment,null,r.createElement("div",{className:"weekly-bonus-card-container"},r.createElement(Qt,o),r.createElement("div",{className:"divider mt-3"}),r.createElement(it,{daysToAnswer:n,daysQualified:a,title:r.createElement("div",{className:"prize-grid-title-container"},r.createElement("h5",null,"Weekly bonus progress"),r.createElement(Ne.Button,{className:"btn btn-icon-borderless open-modal",onClick:function(){return c((function(e){return!e}))}},r.createElement("i",{className:"chi-help-circle"})))})),l&&r.createElement(mt,{onClose:function(){return c((function(e){return!e}))}}))}),zt=(n(308),function(e){var t=r.useEffect,n=r.useState,a=e.showWeeklyBonus,o=e.showWeeklyBonusLevelUpCard,i=n(Wt),s=S()(i,2),l=s[0],c=s[1],d=n(o),m=S()(d,2),p=m[0],f=m[1],h=a?"nav-info-container":"nav-info-container small";t((function(){a&&function(){var e=q()(w.a.mark((function e(){var t;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,nt();case 2:t=e.sent,Gt(t,c);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[c,a]);var v=l.apiStatus,g=l.weekly,y=l.today.questionsAnswered,b=Ft(p,l);return r.createElement("div",{className:h},r.createElement("div",{className:"inner-wrapper"},r.createElement(Mt,null),a&&r.createElement("div",{className:"bonus-progress-container"},r.createElement("div",{className:"questions-answered-today"},v===Ze.Loading?r.createElement(Bt.Spinner,{variant:"sm",style:{paddingRight:"3px"}}):r.createElement(r.Fragment,null,r.createElement(et,{inlineIcon:!0,errorDescAction:u,iconStyles:{fontSize:"2.5rem"},errorBoundaryStyles:{maxWidth:"55rem"}},r.createElement(pt,{total:y}),r.createElement(bt,{total:y,styles:{margin:"0.2rem 0 0 1.4rem"}})))),r.createElement("div",{className:"weekly-bonus-card-desktop"},null!==b&&r.createElement(Lt,lt()({},g,b,{onClose:function(){return Ht(f)}}))))),a&&null!==b&&r.createElement("div",{className:"weekly-bonus-card-mobile"},r.createElement(Qt,lt()({},b,{onClose:function(){return Ht(f)}}))))}),Wt=function(){return{today:{questionsAnswered:0},weekly:{daysToAnswer:[],daysQualified:[]},apiStatus:Ze.Loading}},Gt=function(e,t){var n=e.today.questionsAnswered,r=e.weekly;t({today:{questionsAnswered:n},weekly:{daysToAnswer:r.daysToAnswer,daysQualified:r.daysQualified},apiStatus:Ze.Resolved})},Ht=function(){var e=q()(w.a.mark((function e(t){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/api/v1/tutor/mark-level-up-card-seen/",e.prev=1,t(!1),e.next=5,C.a.post("/api/v1/tutor/mark-level-up-card-seen/");case 5:e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(1),new Error("Something went wrong closing the weekly bonus card, ".concat(e.t0));case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}(),Yt=function(e){var t=e.onChange,n=e.value,a=e.placeholder,o=e.maxLength,i=e.isInvalid,s=void 0!==i&&i;return r.createElement("div",{className:"form-group"},r.createElement("input",{className:"form-control".concat(s?" is-invalid":""),type:"text",placeholder:a,value:n,onChange:t,maxLength:o}),s&&r.createElement("div",{className:"invalid-feedback feedback-icon"},r.createElement("i",{className:"chi-alert-filled"})))},Vt=(n(309),function(e){var t=e.parentQAThreadId,n=r.useState(""),a=S()(n,2),o=a[0],i=a[1],s=Ot({qaThreadId:t,parentThreadType:null}).addComment;return r.createElement("div",{className:"row align-items-center"},r.createElement("div",{className:"col-lg-10 col-md-8 comment-field"},r.createElement(Yt,{placeholder:"Type your comment here...",value:o,maxLength:500,onChange:function(e){i(e.target.value)}})),r.createElement("div",{className:"col-lg-2 col-md-4"},r.createElement("button",{className:"btn btn-primary btn-sm submit-btn",onClick:function(){void 0!==s&&(s({message:o,visibility:null}),i(""))},disabled:""===o.trim()},"Post Comment")))}),$t=n(125),Kt=(n(156),function(e){var t=e.value,n=e.onChange,a=e.errorMsg,o=e.maxLength,i=""!==a;return r.createElement("div",{className:"form-group".concat(i?" was-validated":"")},r.createElement("div",{className:"textarea-with-icon"},r.createElement("textarea",{className:"form-control".concat(i?" error-outline":""),onChange:n,value:t,maxLength:o}),i&&r.createElement(r.Fragment,null,r.createElement("div",{className:"invalid-feedback feedback-icon d-block"},r.createElement("i",{className:"chi-alert-filled"})),r.createElement("div",{className:"invalid-feedback d-block"},a))))}),Jt=function(e){var t=e.isOpen,n=e.threadType,a=e.onSubmit,o=e.onClose,i=r.useState(""),s=S()(i,2),l=s[0],c=s[1],u=r.useState(""),d=S()(u,2),m=d[0],p=d[1];return t?r.createElement(Ce.Modal,{closeModal:o,isOpen:t},r.createElement("h5",{className:"mb-2 text-center"},"Flag for a Moderator"),r.createElement(Kt,{value:l,errorMsg:m,onChange:function(e){return Zt(e,n,{setError:p,setReason:c})},maxLength:300}),r.createElement(Ne.Button,{variant:"primary",size:"sm",className:"mt-3",disabled:""!==m||""===l,onClick:function(){return Xt(l,n,{setError:p,onSubmit:a,onClose:o})}},"Alert Moderator")):null},Xt=function(e,t,n){var r=n.setError,a=n.onSubmit,o=n.onClose;en(e,t,r)&&(a(e),o())},Zt=function(e,t,n){var r=n.setError,a=n.setReason,o=e.target.value;en(o,t,r),a(o)},en=function(e,t,n){return""!==e.trim()?(n(""),!0):(n("Please enter your reason for flagging this ".concat(t,".")),!1)},tn=(n(310),Object(r.memo)((function(e){var t=e.qaThreadId,n=e.threadType,a=e.parentThreadType,o=Ot({qaThreadId:t,parentThreadType:a}).flagThread,i=r.useState(!1),s=S()(i,2),l=s[0],c=s[1];return r.createElement(r.Fragment,null,l&&r.createElement(Jt,{isOpen:l,threadType:n,onClose:function(){return c(!1)},onSubmit:function(e){nn(e,o)}}),r.createElement(Ne.Button,{size:"sm",variant:"tertiary",className:"text-capitalize",onClick:function(){return c(!0)}},r.createElement("i",{className:"chi-flag-filled"}),"Flag ",n))}))),nn=function(e,t){void 0!==t&&t({reasonText:e,reasonId:"0",severity:1,moderatorReasonId:null})},rn=function(e){var t=e.flagStatus,n=e.qaThreadId,a=e.threadType,o=e.parentThreadType;switch(t){case ee.NoFlag:return r.createElement(tn,{threadType:a,parentThreadType:o,qaThreadId:n});case ee.FlagPending:return r.createElement("span",{className:"text-danger"},r.createElement("i",{className:"chi-infomation-circle"}),Object($t.a)(a)," has a pending flag");case ee.FlaggedViolation:return r.createElement("span",{className:"text-danger"},r.createElement("i",{className:"chi-alert-filled"}),Object($t.a)(a)," is flagged");case ee.FlaggedWarning:return null;default:throw new Error("Unhandled flagStatus: ".concat(t))}},an=(n(311),function(e){var t=e.qaThreadId,n=e.displayText,a=e.username,o=e.hasViolation,i=e.flags,s=e.date,l=e.parentThreadType,c=ce(t,o,i),u=B(s,new Date),d=U(u,{endText:"ago"}),m=new ut.Parser;return r.createElement("div",{className:"row"},r.createElement("div",{className:"col posted-comment-container text-neutral-700"},r.createElement("span",null,m.parse(n)),r.createElement("div",{className:"d-flex align-items-center font-italic comment"},r.createElement("span",null,a),r.createElement("span",null,d),r.createElement(rn,{flagStatus:c,qaThreadId:t,threadType:Z.Comment,parentThreadType:l}))))}),on=function(e){var t=e.comments,n=e.isQuestionClosed,a=e.qaThreadId;return r.createElement("div",{className:"p-1"},Object.keys(t).map((function(e){return r.createElement(an,lt()({},t[e],{key:t[e].qaThreadId}))})),n?r.createElement("p",null,"Comments are closed."):r.createElement(Vt,{parentQAThreadId:a}))},sn=(n(312),function(e){var t=e.title,n=e.displayText,a=e.isQuestionClosed,o=e.options,i=e.showComments,s=e.attachments,l=e.comments,c=e.qaThreadId,u=new ut.Parser;return r.createElement("div",{className:"display-content-container"},r.createElement("div",{className:"body"},r.createElement("span",{className:"title"},t),r.createElement("div",{className:"display-text"},u.parse(n)),s.length>0&&r.createElement(et,{inlineIcon:!0,errorDescAction:v,errorBoundaryClassNames:"mt-2",errorBoundaryStyles:{maxWidth:"50%",fontSize:"2rem"}},r.createElement("div",{className:"display-attachments"},r.createElement(Re,{attachments:s})))),void 0!==o&&r.createElement("div",{className:"options"},o),r.createElement(et,{errorDescAction:h,errorBoundaryClassNames:"mt-1"},i&&r.createElement(on,{comments:l,isQuestionClosed:a,qaThreadId:c})))}),ln=function(e,t){return e+Object(O.a)(t,(function(e,t){return e+t.amount}),0)},cn=function(e){var t=e.basePrice,n=e.bonusList,a=void 0!==n[-1]?n[-1].amount:0,o=void 0!==n[4]?n[4].amount:0;return r.createElement("div",{className:"price-tooltip-content-container"},r.createElement("span",null,W(t)," Base price"),a>0&&r.createElement("span",null,r.createElement("span",null,"+ ",W(a)," Difficulty bonus"),r.createElement("i",{className:"chi-dollar-circle-filled"})),o>0&&r.createElement("span",null,r.createElement("span",null,"+ ",W(o)," Bonus time"),r.createElement("i",{className:"chi-flash-filled"})))},un=(n(313),function(e){var t=e.subject,n=e.price,a=e.bonusList,o=e.userCanSeePrice,i=function(e){return void 0!==e[4]?"total-price-bonus-time-bonus":void 0!==e[-1]?"total-price-difficulty-bonus":"total-price-no-bonus"}(a);return r.createElement("div",{className:"question-card-footer"},r.createElement("div",{className:"left-container"},r.createElement("span",{className:"subject"},"Subject:")," ",t),r.createElement("div",{className:"right-container"},o&&r.createElement("div",{className:"price-container"},r.createElement("span",{className:i},function(e,t){return Object(tt.a)(ln,W)(e,t)}(n,a)),r.createElement(at.Tooltip,{position:"bottom",tooltipContent:r.createElement(cn,{basePrice:n,bonusList:a})},r.createElement("i",{className:"chi-infomation-circle"})))))}),dn=function(e){var t=e.profilePictureUrl,n=void 0===t?"":t,a=e.className,o=void 0===a?"":a,i=""===n?"avatar hidden ".concat(o):"avatar  ".concat(o);return r.createElement("div",{className:i},""!==n&&r.createElement("img",{src:n}))};function mn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Qe()(e);if(t){var a=Qe()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Me()(this,n)}}var pn=function(e){Fe()(n,e);var t=mn(n);function n(){return j()(this,n),t.apply(this,arguments)}return R()(n,[{key:"getClassName",value:function(e){var t="";for(var n in e)t+=e[n]?" "+n:"";return t}}]),n}(r.Component),fn=window,hn=fn.Action,vn=fn.Actions,gn=fn.ApiService,yn=fn.Beef,bn=(fn.Dispatcher,fn.RoutingService,fn.Store);function wn(){return yn.start(),yn.service(gn.SERVICE_ID)}var En=n(164),qn=new(function(){function e(){j()(this,e)}return R()(e,[{key:"searchSubjects",value:function(e,t){return wn().get("/api/v1/search-qa-relevant-categories/",{name:e}).then((function(e){Object(En.a)(e)||t(e)}))}},{key:"retagSphinxSubject",value:function(e,t,n,r){this.retagSubject(e,t,"/api/v1/questions/{questionId}/retag-sphinx-subject/",n,r)}},{key:"retagQuestionSubject",value:function(e,t,n,r){this.retagSubject(e,t,"/api/v1/questions/{questionId}/retag-question-subject/",n,r)}},{key:"retagSubject",value:function(e,t,n,r,a){wn().post(n,{questionId:e,subjectId:t}).then((function(e){r&&r(e)}),(function(e){a&&a(e)}))}}]),e}());function xn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Qe()(e);if(t){var a=Qe()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Me()(this,n)}}var Sn,kn,Tn,Cn=function(e){Fe()(n,e);var t=xn(n);function n(e){var r;return j()(this,n),(r=t.call(this,e)).state={selected:!1,query:"",subjects:[]},r}return R()(n,[{key:"getSubjects",value:function(){var e=this,t=[],n=this.state.subjects.length>5?5:this.state.subjects.length,a=function(n){if(!e.state.subjects.hasOwnProperty(n))return"continue";var a=e.state.subjects[n];t.push(r.createElement("li",{key:a.category_id,onMouseDown:function(t){return e.onClick(t,a)}},a.subject))};for(var o in this.state.subjects.slice(0,n))a(o);return r.createElement("ul",{className:this.props.listClassName},t)}},{key:"onFocus",value:function(e){this.setState({selected:!0})}},{key:"onBlur",value:function(e){this.setState({selected:!1})}},{key:"onChange",value:function(e){var t=e.target.value;this.props.onChange&&this.props.onChange(),""!==t?(qn.searchSubjects(t,this.receiveSubjects.bind(this)),this.setState({query:t})):this.setState({query:t,subjects:[]})}},{key:"receiveSubjects",value:function(e){""!==this.state.query&&this.setState({subjects:e})}},{key:"onClick",value:function(e,t){e.stopPropagation(),this.props.onClick(t.subject,t.category_id),this.setState({selected:!1,query:t.subject})}},{key:"render",value:function(){var e=this,t=null;return this.state.selected&&(t=this.getSubjects()),r.createElement("div",{className:this.props.containerClassName,onFocus:function(t){return e.onFocus(t)},onBlur:function(t){return e.onBlur(t)}},r.createElement("input",{type:"text",className:!0===this.props.isInvalid?"form-control is-invalid":void 0,placeholder:this.props.placeholder,value:this.state.query,onChange:function(t){return e.onChange(t)}}),!0===this.props.isInvalid&&r.createElement("div",{className:"invalid-feedback feedback-icon"},r.createElement("i",{className:"chi-alert-filled"})),t)}}]),n}(pn),Nn=n(117),In=n.n(Nn);!function(e){e.SubmitLoading="SubmitLoading",e.SubmitError="SubmitError",e.SubmitDone="SubmitDone",e.SubmitReady="SubmitReady"}(Sn||(Sn={})),function(e){e.MissingCategory="Category does not exist",e.MissingExplanation="Skip reason requires explanation."}(kn||(kn={})),function(e){e.GenericSkipError="Error! Could not submit skip reason.",e.CategoryUpdateError="Something went wrong with updating the category."}(Tn||(Tn={}));var On,Pn=r.createContext,jn=r.useContext,An=r.useEffect,Rn=Pn(void 0),Dn=Pn(void 0),_n=function(e){var t=e.children,n=e.rawReasons,a=Object(k.a)(Mn),o=S()(a,2),i=o[0],s=o[1];return An((function(){Hn(n,s)}),[n,s]),r.createElement(Rn.Provider,{value:i},r.createElement(Dn.Provider,{value:s},t))},Fn=function(){var e=jn(Rn);if(void 0===e)throw new Error("useSkipPopupState must be used within a SkipPopupContextProvider.");return e},Bn=function(){var e=r.useContext(Dn);if(void 0===In()(e))throw new Error("skipPopupStateUpdater must be used within a SkipPopupStateProvider");return{skipPopupStateUpdater:e,handleSubjectSelection:Gn,handleUpdateExplanation:Wn,updateErrorStatus:zn,selectSubReason:Un,updateSubmitStatus:Qn}},Mn=function(){return{reasonOptions:[],chosenSubReason:null,explanation:"",categoryId:-1,status:Sn.SubmitReady,errorMsg:"",erroredSubReason:null}},Un=function(e,t){t((function(t){t.chosenSubReason=e,t.explanation="",t.errorMsg="",t.erroredSubReason=null}))},Qn=function(e,t){t((function(t){t.status=e})),e!==Sn.SubmitError&&Ln(t)},Ln=function(e){e((function(e){e.errorMsg="",e.erroredSubReason=null}))},zn=function(e,t,n){var r=e,a=null;e===kn.MissingCategory?(r="Please provide the subject suggestion.",a=te.TaggedIncorrectSubject):e===kn.MissingExplanation&&(r="Please provide more details on the skip reason.",a=te.OtherReason),n((function(e){e.errorMsg=""!==r?r:t,e.erroredSubReason=a,e.status=Sn.SubmitError}))},Wn=function(e,t){t((function(t){t.explanation=e})),e.length>0&&Ln(t)},Gn=function(e,t){t((function(t){t.categoryId=e})),Ln(t)},Hn=function(e,t){var n=[];Object.keys(e).forEach((function(t){var r=e[t],a=r.label,o={label:a,reasonId:r.id},i=[];Object.keys(r.subSkipReasons).forEach((function(e){var t=r.subSkipReasons[e],n=t.label,a={label:n,isExplanationRequired:t.isExplanationRequired,reasonId:t.id,includeSubjectTagger:!1,isExplanationOptional:!1,explanationPlaceholder:""};n===te.TaggedIncorrectSubject&&(a.includeSubjectTagger=!0),n===te.MissingMaterial&&(a.isExplanationOptional=!0,a.explanationPlaceholder="Tell the student what's missing"),n===te.OtherReason&&(a.explanationPlaceholder="Tell us more details"),i.push(a)})),a===te.MissingInformation&&(o.tooltipText="Students will see your input so that they can provide missing information."),o.subReasons=i,n.push(o)})),t((function(e){e.reasonOptions=n}))},Yn=function(){var e=Fn(),t=Bn(),n=t.skipPopupStateUpdater,a=t.handleSubjectSelection,o=t.handleUpdateExplanation;if(void 0===e||void 0===n)return null;var i=e.explanation,s=e.chosenSubReason,l=e.erroredSubReason;return null==s?null:r.createElement(r.Fragment,null,s.isExplanationRequired||s.isExplanationOptional?r.createElement(Yt,{onChange:function(e){return o(e.target.value,n)},maxLength:200,value:i,placeholder:s.explanationPlaceholder,isInvalid:Vn(l,s)}):null,s.includeSubjectTagger&&r.createElement(Cn,{placeholder:"Retag to the correct subject",onClick:function(e,t){return a(t,n)},onChange:function(){a(-1,n)},listClassName:"skip-question-subject-dropdown-list",containerClassName:"skip-question-subject-dropdown form-group",isInvalid:Vn(l,s)}))},Vn=function(e,t){return e===t.label},$n=function(e){var t=e.subReasons,n=Fn(),a=Bn(),o=a.skipPopupStateUpdater,i=a.selectSubReason;if(void 0===n||void 0===o)return null;var s=n.chosenSubReason;return r.createElement(r.Fragment,null,t.map((function(e){return r.createElement(r.Fragment,{key:"subreason-".concat(e.reasonId)},r.createElement("div",{className:"form-group form-check"},r.createElement("input",{className:"form-check-input",type:"radio",name:"subreason",id:"subreason-".concat(e.reasonId),value:e.label,onClick:function(){return i(e,o)},checked:e.reasonId===(null==s?void 0:s.reasonId),readOnly:!0}),r.createElement("label",{className:"form-check-label",htmlFor:"subreason-".concat(e.reasonId)},e.label)),(null==s?void 0:s.reasonId)===e.reasonId&&r.createElement(Yn,null))})))},Kn=function(){var e=Fn();if(void 0===e)return null;var t=e.reasonOptions;return r.createElement(r.Fragment,null,r.createElement("div",{className:"px-4 mb-2"},t.map((function(e){var t=e.label,n=e.reasonId,a=e.tooltipText,o=e.subReasons;return r.createElement("div",{key:"reason-".concat(n)},r.createElement("h6",{className:"reason-heading mt-5"},t,void 0!==a&&r.createElement(Bt.Tooltip,{tooltipContent:a,position:"bottom",showArrow:!1},r.createElement("i",{className:"chi-infomation-circle-filled tooltip-icon"}))),r.createElement($n,{subReasons:o}))}))))},Jn=(n(314),function(e){var t=e.onClose,n=e.isMcq,a=e.questionId,o=e.onSubmitSuccess,i=Fn(),s=Bn(),l=s.skipPopupStateUpdater,c=s.updateSubmitStatus,u=s.updateErrorStatus;if(void 0===i||void 0===l)return null;var d=i.chosenSubReason,m=i.categoryId,p=i.explanation,f=i.status,h=i.errorMsg;return r.createElement(Ce.Modal,{closeModal:t,isOpen:!0,closeOnClickOutside:!0,className:"skip-modal"},r.createElement("div",{className:"text-center"},r.createElement("i",{className:"header-icon chi-comments"}),r.createElement("h5",{className:"mt-4 mb-1"},"Tell us why you're skipping this question"),r.createElement("p",null,"Accurate assessment here will help us improve your experience.")),r.createElement(Kn,null),r.createElement("div",{className:"d-flex align-items-center justify-content-center"},r.createElement(Ne.Button,{variant:"secondary",size:"sm",onClick:t,className:"mr-2 px-5"},"Cancel"),r.createElement(Ne.Button,{variant:"primary",size:"sm",className:"px-5",onClick:function(){null!==d&&Xn(d,{setState:l,setSubmitStatus:c,setErrorStatus:u,onSubmitSuccess:o,categoryId:m,explanation:p,status:f,isMcq:n,questionId:a})},disabled:null===d},i.status===Sn.SubmitLoading?r.createElement("i",{className:"chi-loading"}):"Submit")),""!==h&&r.createElement("p",{className:"mt-1 text-alternative-danger-red text-center"},h))}),Xn=function(e,t){var n=t.categoryId,r=t.setSubmitStatus,a=t.setErrorStatus,o=t.setState,i=t.status,s=t.isMcq,l=t.questionId;if(i!==Sn.SubmitLoading){r(Sn.SubmitLoading,o);var c=function(e){return function(e,t){var n,r,a,o=t.setErrorStatus,i=t.setState;o(null!==(n=null==e?void 0:null===(r=e.responseJSON)||void 0===r?void 0:null===(a=r.error)||void 0===a?void 0:a.message)&&void 0!==n?n:"",Tn.CategoryUpdateError,i)}(e,{setErrorStatus:a,setState:o})};e.label===te.TaggedIncorrectSubject&&-1!==n?s?qn.retagSphinxSubject(l,n,(function(){return Zn(e,t)}),c):qn.retagQuestionSubject(l,n,(function(){return Zn(e,t)}),c):Zn(e,t)}},Zn=function(){var e=q()(w.a.mark((function e(t,n){var r,a,o,i,s,l,c,u,d,m,p,f;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.explanation,a=n.setSubmitStatus,o=n.setState,i=n.questionId,s=n.onSubmitSuccess,l=n.setErrorStatus,c=t.reasonId,u="/api/v1/questions/".concat(i,"/save-expert-question-skip/"),e.prev=3,e.next=6,C.a.post(u,{explanation:r.trim(),reasonId:c});case 6:a(Sn.SubmitDone,o),s(),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),l(null!==(d=null===e.t0||void 0===e.t0?void 0:null===(m=e.t0.response)||void 0===m?void 0:null===(p=m.data)||void 0===p?void 0:null===(f=p.error)||void 0===f?void 0:f.message)&&void 0!==d?d:"",Tn.GenericSkipError,o);case 13:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t,n){return e.apply(this,arguments)}}();n(315);!function(e){e.Success="success",e.Error="error",e.Info="info",e.Warning="warning"}(On||(On={}));var er=function(e){var t=e.isOpen,n=e.onClose,a=e.alertType,o=e.message,i=e.title,s=e.showConfirmButton,l=void 0===s||s,c=e.showCancelButton,u=void 0!==c&&c,d=e.confirmButtonText,m=void 0===d?"OK":d,p=e.cancelButtonText,f=void 0===p?"Cancel":p,h=e.onConfirm,v=void 0===h?n:h,g=e.onCancel,y=e.showError,b=void 0!==y&&y,w=e.errorMsg,E=void 0===w?"Something went wrong. Please refresh the page.":w,q=tr(a),x=q.iconClassName,S=q.defaultTitle;return r.createElement(Ce.Modal,{isOpen:t,closeModal:n,className:"container"},r.createElement("div",{className:"row justify-content-center"},r.createElement("i",{className:"sweetAlertIcon ".concat(x)})),r.createElement("div",{className:"row justify-content-center mt-1"},r.createElement("h2",null,void 0!==i?i:S)),b&&r.createElement("div",{className:"text-alternative-danger-red text-center my-1"},E),r.createElement("div",{className:"row justify-content-center mt-2"},r.createElement("p",null,o)),r.createElement("div",{className:"d-flex align-items-center justify-content-center mt-3"},u?r.createElement(Ne.Button,{onClick:g,variant:"secondary"},f):null,l?r.createElement(Ne.Button,{onClick:v,variant:"primary",className:u?"ml-1":""},m):null))},tr=function(e){switch(e){case On.Info:return{iconClassName:J.Info,defaultTitle:X.Info};case On.Error:return{iconClassName:J.Error,defaultTitle:X.Error};case On.Success:return{iconClassName:J.Success,defaultTitle:X.Success};case On.Warning:return{iconClassName:J.Warning,defaultTitle:X.Warning};default:throw new Error("Invalid alert type: ".concat(e))}};function nr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Qe()(e);if(t){var a=Qe()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Me()(this,n)}}var rr,ar,or,ir,sr,lr,cr,ur,dr,mr=function(e){Fe()(n,e);var t=nr(n);function n(){var e;j()(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).receiveQuestion=function(e){return e},e}return n}(hn),pr=vn.create(new mr),fr=n(18),hr=n.n(fr),vr=n(6),gr=n.n(vr),yr=n(19),br=n.n(yr),wr=(n(157),function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};j()(this,e),Object.assign(this,t)}),Er=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return Tr.bind(null,bn.int.bind(null,e))},qr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return Tr.bind(null,bn.string.bind(null,e))},xr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return Tr.bind(null,bn.bool.bind(null,e))},Sr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return Tr.bind(null,bn.array.bind(null,e))},kr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return Tr.bind(null,bn.object.bind(null,e))},Tr=function(e,t,n,r){t.constructor.schema[n]=e()};function Cr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Qe()(e);if(t){var a=Qe()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Me()(this,n)}}var Nr,Ir,Or,Pr,jr,Ar,Rr,Dr,_r,Fr,Br,Mr,Ur,Qr,Lr,zr,Wr,Gr,Hr,Yr,Vr,$r,Kr,Jr,Xr,Zr,ea,ta,na,ra,aa,oa,ia,sa,la,ca,ua,da=(rr=Er(),ar=qr(),or=Er(),dr=ur=function(e){Fe()(n,e);var t=Cr(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return j()(this,n),e=t.call(this,r),hr()(e,"userId",sr,gr()(e)),hr()(e,"date",lr,gr()(e)),hr()(e,"amountPaid",cr,gr()(e)),Object.assign(gr()(e),r),e}return n}(wr),ur.MODEL_NAME="QuestionAnswer",ur.schema={},ir=dr,sr=br()(ir.prototype,"userId",[rr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),lr=br()(ir.prototype,"date",[ar],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),cr=br()(ir.prototype,"amountPaid",[or],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ir);function ma(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Qe()(e);if(t){var a=Qe()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Me()(this,n)}}var pa=(Nr=Er(),Ir=Er(),Or=qr(),Pr=xr(),jr=Sr(),Ar=Er(),Rr=qr(),Dr=Sr(),_r=kr(),Fr=xr(),Br=qr(),Mr=xr(),Ur=xr(),Qr=kr({schema:function(){return da.schema}}),Lr=qr(),zr=Er(),Wr=Er(),ua=ca=function(e){Fe()(n,e);var t=ma(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return j()(this,n),e=t.call(this,r),hr()(e,"questionId",Hr,gr()(e)),hr()(e,"userId",Yr,gr()(e)),hr()(e,"questionText",Vr,gr()(e)),hr()(e,"editing",$r,gr()(e)),hr()(e,"attachments",Kr,gr()(e)),hr()(e,"numAttachments",Jr,gr()(e)),hr()(e,"threadText",Xr,gr()(e)),hr()(e,"fullQuestionCategory",Zr,gr()(e)),hr()(e,"category",ea,gr()(e)),hr()(e,"isClosed",ta,gr()(e)),hr()(e,"subject",na,gr()(e)),hr()(e,"isDmca",ra,gr()(e)),hr()(e,"isCancelled",aa,gr()(e)),hr()(e,"questionAnswer",oa,gr()(e)),hr()(e,"date",ia,gr()(e)),hr()(e,"price",sa,gr()(e)),hr()(e,"numSubQuestions",la,gr()(e)),Object.assign(gr()(e),r),e}return n}(wr),ca.MODEL_NAME="question",ca.schema={},Gr=ua,Hr=br()(Gr.prototype,"questionId",[Nr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Yr=br()(Gr.prototype,"userId",[Ir],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Vr=br()(Gr.prototype,"questionText",[Or],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$r=br()(Gr.prototype,"editing",[Pr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Kr=br()(Gr.prototype,"attachments",[jr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Jr=br()(Gr.prototype,"numAttachments",[Ar],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Xr=br()(Gr.prototype,"threadText",[Rr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Zr=br()(Gr.prototype,"fullQuestionCategory",[Dr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ea=br()(Gr.prototype,"category",[_r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ta=br()(Gr.prototype,"isClosed",[Fr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),na=br()(Gr.prototype,"subject",[Br],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ra=br()(Gr.prototype,"isDmca",[Mr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),aa=br()(Gr.prototype,"isCancelled",[Ur],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),oa=br()(Gr.prototype,"questionAnswer",[Qr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ia=br()(Gr.prototype,"date",[Lr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),sa=br()(Gr.prototype,"price",[zr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),la=br()(Gr.prototype,"numSubQuestions",[Wr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Gr),fa=function(){function e(){j()(this,e)}return R()(e,null,[{key:"getQuestion",value:function(e,t){return wn().get("/api/v1/users/questions/{questionId}/",{questionId:e}).then((function(e){var t=new pa({questionId:e.question.question_id,userId:e.question.user_id,questionText:e.question.question,attachments:e.attachments,numAttachments:e.numAttachments,threadText:e.qaThreadText,categories:e.categories,category:e.question.category,credits:e.question.credits,subject:e.question.category?e.question.category.subject:"",numSubQuestions:e.numSubQuestions});pr.receiveQuestion(t)}),(function(e){t&&t(e)}))}},{key:"editQuestion",value:function(e,t,n){wn().post("/tutors/homework-help/ask/question/update-details/",{question:e,shouldCompleteCheck:!0}).then((function(e){n&&n(e)}),(function(e){t&&t(e)}))}},{key:"clearFlags",value:function(e){wn().post("/api/v1/questions/{questionId}/clear_flags/",{questionId:e})}},{key:"submitExpertQuestionSkip",value:function(e,t,n){return wn().post("/api/v1/questions/{questionId}/save-expert-question-skip/",{questionId:e,reasonId:t,explanation:n})}},{key:"getNextQuestion",value:function(e,t){return wn().post("/api/v1/tutor/next-question/",{categorySubjects:e,excludeSkippedQuestions:t})}},{key:"verifyQuestionReservation",value:function(){return wn().post("/api/v1/tutor/verify-reservation/",{})}},{key:"changeNumSubQuestions",value:function(e,t){return wn().post("/api/v1/questions/{questionId}/subQuestions/",{questionId:e,numSubQuestions:t})}},{key:"priceUpQuestion",value:function(e,t){return wn().post("/api/v1/questions/{questionId}/priceUp/",{questionId:e,newPrice:t})}},{key:"flagForCopyright",value:function(e,t){return wn().post("/admin/dmca/internal/question/{questionId}/",{questionId:e,source:t})}}]),e}();function ha(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Qe()(e);if(t){var a=Qe()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Me()(this,n)}}var va=function(e){Fe()(n,e);var t=ha(n);function n(){return j()(this,n),t.apply(this,arguments)}return R()(n,null,[{key:"getAnsweredQuestions",value:function(e,t,n){return wn().get("/api/v1/questions/answered/tutor/",{limit:t,page:n})}},{key:"getAnsweredQuestionsV2",value:function(e,t,n){var r={limit:e,until:t,since:n};return r.since||delete r.since,r.until||delete r.until,wn().get("/api/v1/questions/answered/tutor/",r)}},{key:"endTutorSession",value:function(){return wn().post("/api/v1/tutor/endSession/",{})}},{key:"getTutorStats",value:function(){return wn().get("/api/v1/expertstats/",{})}}]),n}(gn),ga=function(e){var t=e.includeSkippedQuestions,n=e.selectedCategories,a=e.onClose,o=e.showComplianceOverlapMessage,i=e.showSkipMessage,s=r.useState(!1),l=S()(s,2),c=l[0],u=l[1],d=r.useState(!1),m=S()(d,2),p=m[0],f=m[1],h=r.useState(""),v=S()(h,2),g=v[0],y=v[1];return r.createElement(er,{isOpen:!0,showConfirmButton:!0,showCancelButton:!0,confirmButtonText:c?r.createElement("i",{className:"chi-loading"}):"Next question",cancelButtonText:"Change categories",onClose:function(){return wa(a)},onCancel:function(){return wa(a)},onConfirm:function(){return ba(c,t,{selectedCategories:n,onClosePopup:a,setIsLoading:u,setShowError:f,setErrorMsg:y})},title:o?"Your answer contained too much of the question text and failed our compliance check.":i?"Thanks for the feedback!":"Thanks for submitting the answer!",message:"",alertType:o?On.Error:On.Success,showError:p,errorMsg:g})},ya=function(){window.location.href="/qa/expert/dashboard/"},ba=function(e,t,n){var r=n.setIsLoading,a=n.selectedCategories,o=n.onClosePopup;e||(r(!0),fa.getNextQuestion(a.toString(),!t).then((function(e){o(),e.questionId&&t?window.location.href="/qa/wait/".concat(e.questionId,"/?includeSkipped=1"):e.questionId?window.location.href="/qa/wait/".concat(e.questionId,"/"):ya()})).fail((function(e){!function(e,t){var n,r,a=t.setShowError,o=t.setErrorMsg;(null==e?void 0:null===(n=e.responseJSON)||void 0===n?void 0:null===(r=n.error)||void 0===r?void 0:r.message)&&(a(!0),o("Error: ".concat(e.responseJSON.error.message)))}(e,n),r(!1)})))},wa=function(e){va.endTutorSession().then((function(t){e(),ya()}))},Ea=function(e){var t=e.isOpen,n=e.onClose,a=e.onSubmit;return r.createElement(Ce.Modal,{isOpen:t,closeModal:n,variant:"lg"},r.createElement("div",{className:"copyrightPopupContainer container"},r.createElement("div",{className:"row"},r.createElement("div",{className:"col"},r.createElement("p",{className:"text-center"},"Are you sure you want to flag this question as a copyright violation?"))),r.createElement("div",{className:"row justify-content-center mt-3"},r.createElement(Ne.Button,{className:"mr-1",variant:"primary",onClick:a},"Yes"),r.createElement(Ne.Button,{className:"ml-1",variant:"secondary",onClick:n},"No"))))},qa=function(e){var t=r.useState(!1),n=S()(t,2),a=n[0],o=n[1],i=r.useState(!1),s=S()(i,2),l=s[0],c=s[1],u=r.useState(!1),d=S()(u,2),m=d[0],p=d[1];return a?null:r.createElement(r.Fragment,null,r.createElement(Ea,{isOpen:l,onSubmit:function(){xa(e.questionId,{setIsCopyrightFlagged:o,setIsCopyrightPopupOpen:c,setIsErrorAlertModalOpen:p})},onClose:function(){c(!1)}}),r.createElement(er,{isOpen:m,onClose:function(){p(!1)},alertType:On.Error,message:"Could not flag as a copyright violation. Please try again.",showConfirmButton:!0}),r.createElement(Ne.Button,{variant:"tertiary",size:"sm",onClick:function(){c(!0)}},r.createElement("i",{className:"chi-flag-filled"}),"Flag for Copyright"))},xa=function(){var e=q()(w.a.mark((function e(t,n){var r,a,o,i;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"qa wait page",r="/admin/dmca/internal/question/".concat(t,"/"),a=n.setIsCopyrightFlagged,o=n.setIsCopyrightPopupOpen,i=n.setIsErrorAlertModalOpen,e.prev=3,e.next=6,fetch(r,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({questionId:t,source:"qa wait page"})});case 6:e.sent.ok?(a(!0),ue()):(a(!1),o(!1),i(!0)),e.next=13;break;case 10:throw e.prev=10,e.t0=e.catch(3),new Error("Something went wrong.");case 13:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t,n){return e.apply(this,arguments)}}();function Sa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var ka=function(e){var t=e.postAnswerPage,n=e.questionId,a=e.qaThreadId,o=e.amplitudeEventProperties,i=e.flagStatus,s=e.commentsBtnText,l=e.setShowSkipPopup,c=e.setShowComments;return r.createElement(r.Fragment,null,!t&&r.createElement(Ne.Button,{variant:"tertiary",size:"sm",onClick:function(){return Ta("Skip Question",o,l)}},"Skip Question"),r.createElement(Ne.Button,{variant:"tertiary",size:"sm",onClick:function(){return c((function(e){return!e}))}},s),r.createElement(rn,{flagStatus:i,qaThreadId:a,threadType:Z.Question,parentThreadType:null}),!t&&r.createElement(qa,{questionId:n}))},Ta=function(e,t,n){ke(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Sa(Object(n),!0).forEach((function(t){y()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Sa(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({actionType:ge.LINK,text:e,intent:"skip question"},t)),n(!0)},Ca=(n(316),function(e){var t,n=e.userId,a=e.reasons,o=e.includeSkippedQuestions,i=e.selectedCategories,s=e.canExtendReservation,l=e.userCanSeePrice,c=e.userCanSeeATDLink,u=e.isPollingBackupActive,d=e.postAnswerPage,m=It(),p=Object(r.useState)(!1),f=S()(p,2),h=f[0],v=f[1],g=Object(r.useState)(!1),y=S()(g,2),b=y[0],w=y[1],E=Object(r.useState)(!0),q=S()(E,2),x=q[0],k=q[1],T=Object(r.useState)(!1),C=S()(T,2),N=C[0],I=C[1];if(void 0===m)return null;var O=m.question,P=O.displayText,j=O.questionId,A=O.qaThreadId,R=O.subject,D=O.price,_=O.questionStatus,F=O.hasViolation,B=O.attachments,M=O.comments,U=O.flags,Q=O.user,L=O.expertReservationExpiresOn,z=O.bonusList,W=O.isMCQ,G=O.atdDocInfo,H=O.amplitudeEventProperties,Y=m.answers,V=ce(A,F,U),$=de(M,d),K=Object.keys(z).length>0,J=!!Y.find((function(e){var t=e.user;return(null==t?void 0:t.userId)===n}));return r.createElement(r.Fragment,null,b&&r.createElement(_n,{rawReasons:a},r.createElement(Jn,{onClose:function(){return Na(H,w)},isMcq:W,onSubmitSuccess:function(){w(!1),I(!0),k(!1)},questionId:j})),N&&r.createElement(ga,{onClose:function(){return I(!1)},includeSkippedQuestions:o,selectedCategories:i,showComplianceOverlapMessage:!1,showSkipMessage:!0}),r.createElement("div",{className:"question-outer-container"},r.createElement(dn,{profilePictureUrl:null==Q?void 0:Q.profilePictureUrl}),r.createElement("div",{className:"question-container"},K&&l&&r.createElement("div",{className:"bonus-notice-container"},r.createElement(za,{title:"QUESTION",icon:"dollar",titleColor:"green",tooltipContent:"Additional bonus applies for this question"}),(null===(t=z[4])||void 0===t?void 0:t.amount)>0&&r.createElement(za,{title:"TIME",icon:"flash",titleColor:"blue",tooltipContent:"Answer this question during Bonus Time and receive extra payout"})),c&&null!==G&&r.createElement(Wa,{atdDoc:G}),r.createElement(sn,{title:"Question:",displayText:P,comments:M,showComments:h,isQuestionClosed:"Closed"===_,attachments:B,qaThreadId:A,options:r.createElement(ka,{postAnswerPage:d,questionId:j,qaThreadId:A,amplitudeEventProperties:H,commentsBtnText:$,flagStatus:V,setShowSkipPopup:w,setShowComments:v})}),r.createElement(un,{subject:R,price:D,bonusList:z,userCanSeePrice:l}),x?r.createElement(Da,{userHasAnsweredQuestion:J,questionId:j,expiresAt:L,initialCanExtendReservation:s,isPollingActive:u}):null)))}),Na=function(e,t){xe("Question Skip Cancelled",Te(e)),t(!1)},Ia=window.connectionHandler,Oa="default";function Pa(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oa;return window.CHAnalytics.v(e)}Pa();var ja=r.useState,Aa=r.useEffect,Ra=r.useRef,Da=function(e){var t=e.userHasAnsweredQuestion,n=e.questionId,a=e.expiresAt,o=e.initialCanExtendReservation,i=e.isPollingActive,s=ja(!1),l=S()(s,2),c=l[0],u=l[1],d=ja(!1),m=S()(d,2),p=m[0],f=m[1],h=ja(!1),v=S()(h,2),g=v[0],y=v[1],b=ja(!1),w=S()(b,2),E=w[0],q=w[1],x=ja(a),k=S()(x,2),T=k[0],C=k[1],N=ja(!1),I=S()(N,2),O=I[0],P=I[1],j=ja(o),A=S()(j,2),R=A[0],D=A[1],_=r.useState(!1),F=S()(_,2),M=F[0],U=F[1],Q=Ra(null),L=Ra(null);return Ae((function(){i&&La(n).then((function(e){if((null==e?void 0:e.reservationStatusPerQuestion)&&n in e.reservationStatusPerQuestion){var r=e.reservationStatusPerQuestion[n];if(_a(T,t))return;r.reservedByCurrentUser||u(!0),r.reserved&&r.reservedByCurrentUser&&r.expiresSoon&&Ma(O,R,{setCanExtendReservation:D,setShowExpiringSoonPopup:f,setShowExtensionErrorPopup:y,setShowExtensionSuccessPopup:q})}}))}),3e4),Aa((function(){if(!i){var e=Ia.subscribe("v1.question.".concat(n,".tutor"),(function(e){null!=e&&null!=e.data&&Ba(e,C,u)}));return U(!0),function(){e()}}}),[n,i]),Aa((function(){if(!i){if(_a(T,t))return;if(!M)return;var e=new Date,n=B(e,T).totalMs-3e5;if(n<=0&&null!==Q.current)return;n=Math.max(n,1e3),clearTimeout(Q.current),Q.current=null;var r=setTimeout((function(){Ma(O,R,{setCanExtendReservation:D,setShowExpiringSoonPopup:f,setShowExtensionErrorPopup:y,setShowExtensionSuccessPopup:q})}),n);Q.current=r}}),[t,3e5,R,T,O,M,i]),Aa((function(){null!==a&&$(window).on("mousemove mousedown scroll keypress touchstart",(function(){clearTimeout(L.current),L.current=null;var e=setTimeout((function(){P(!0)}),3e5);L.current=e,P(!1)}))}),[3e5,a]),r.createElement(r.Fragment,null,r.createElement(er,{isOpen:c,onClose:function(){return Ua(u)},alertType:On.Error,message:"You no longer have this question reserved",showConfirmButton:!0}),r.createElement(er,{isOpen:p,onClose:function(){return f(!1)},alertType:On.Warning,message:"Your reservation is about to expire. Would you like to extend your reservation?",title:"",showConfirmButton:!0,showCancelButton:!0,cancelButtonText:"No",confirmButtonText:"Yes",onConfirm:function(){Fa({setCanExtendReservation:D,setShowExpiringSoonPopup:f,setShowExtensionSuccessPopup:q,setShowExtensionErrorPopup:y})},onCancel:function(){return f(!1)}}),r.createElement(er,{isOpen:E,onClose:function(){return q(!1)},alertType:On.Success,message:"Your reservation has successfully been extended.",showConfirmButton:!0}),r.createElement(er,{isOpen:g,onClose:function(){return y(!1)},alertType:On.Error,message:"Maximum reservation time reached. Please finish answering soon.",showConfirmButton:!0}))},_a=function(e,t){return""===e||t},Fa=function(e){var t=e.setShowExtensionSuccessPopup,n=e.setShowExtensionErrorPopup,r=e.setShowExpiringSoonPopup,a=e.setCanExtendReservation;Qa(!0,{setShowExtensionErrorPopup:n,setCanExtendReservation:a,setShowExtensionSuccessPopup:t,setShowExpiringSoonPopup:r})},Ba=function(e,t,n){null!=e&&null!=e.data&&null!=e.data.expiresAt&&null!=e.data.isReserved&&null!=e.data.isChangedByReservedUser&&(e.data.isReserved||e.data.isChangedByReservedUser?t(new Date(F(e.data.expiresAt,!0))):n(!0))},Ma=function(e,t,n){var r=n.setShowExtensionErrorPopup,a=n.setCanExtendReservation,o=n.setShowExpiringSoonPopup,i=n.setShowExtensionSuccessPopup;t&&(e?o(!0):Qa(!1,{setShowExtensionSuccessPopup:i,setShowExtensionErrorPopup:r,setCanExtendReservation:a,setShowExpiringSoonPopup:o}))},Ua=function(e){e(!1),ue()},Qa=function(){var e=q()(w.a.mark((function e(t,n){var r,a,o,i;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/api/v1/questions/extend-reservation/",r=n.setShowExpiringSoonPopup,a=n.setShowExtensionSuccessPopup,o=n.setShowExtensionErrorPopup,i=n.setCanExtendReservation,r(!1),e.prev=3,e.next=6,fetch("/api/v1/questions/extend-reservation/",{method:"POST",headers:{"Content-Type":"application/json"}});case 6:e.sent.ok?t&&a(!0):(o(!0),i(!1)),e.next=13;break;case 10:throw e.prev=10,e.t0=e.catch(3),new Error("Something went wrong when extending the reservation: ".concat(e.t0.message));case 13:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t,n){return e.apply(this,arguments)}}(),La=function(){var e=q()(w.a.mark((function e(t){var n,r;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/api/v1/questions/get-reservation-status-per-question/",e.prev=1,e.next=4,fetch("".concat("/api/v1/questions/get-reservation-status-per-question/","?questions=").concat(t),{method:"GET",headers:{"Content-Type":"application/json"}});case 4:return n=e.sent,e.next=7,n.json();case 7:if(r=e.sent,!n.ok){e.next=12;break}return e.abrupt("return",r);case 12:throw new Error(r.error.message);case 13:e.next=18;break;case 15:throw e.prev=15,e.t0=e.catch(1),new Error("Something went wrong while fetching the reservation status of the question: ".concat(e.t0.message));case 18:case"end":return e.stop()}}),e,null,[[1,15]])})));return function(t){return e.apply(this,arguments)}}(),za=(n(317),function(e){var t=e.icon,n=e.title,a=e.titleColor,o=e.tooltipContent,i="dollar"===t?"chi-dollar-circle-filled":"chi-flash-filled",s="green"===a?"text-alternative-success-green":"text-primary-500";return r.createElement("div",{className:"bonus-notice"},r.createElement(at.Tooltip,{tooltipContent:o,position:"bottom"},r.createElement("div",{className:"content"},r.createElement("i",{className:"".concat(i," ").concat(s)}),r.createElement("span",{className:"font-weight-500 ".concat(s)},"BONUS ".concat(n)))))}),Wa=(n(318),function(e){var t=e.atdDoc,n=t.documentTitle,a=t.documentUrl;return r.createElement("div",{className:"atd-banner-container"},r.createElement("h5",{className:"mb-1"},"Attention"),r.createElement("p",null,"This question was created from ",r.createElement("b",null,n),r.createElement(Ne.Button,{className:"ml-2",variant:"link",onClick:function(){return Ga(a)}},"View Document ",r.createElement("i",{className:"chi-popout ml-1"}))),r.createElement("p",null,"Please click “View Document” to reference essential context about the question."))}),Ga=function(e){window.open(e,"_blank")},Ha=n(118),Ya=n(21),Va=function(){return window.Quill};function $a(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Ka(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ka(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=e[Symbol.iterator]()).next.bind(n)}function Ka(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ja=function(){function e(){j()(this,e)}return R()(e,null,[{key:"removeAllInlineImages",value:function(t,n){var r=Va().import("delta"),a=t.getContents().filter((function(t){return!e.isOpImage(t,n)}));t.setContents(new r(a))}},{key:"imageExists",value:function(t,n){return t.getContents().filter((function(t){return e.isOpImage(t,n)})).length>0}},{key:"isOpImage",value:function(e,t){return e.insert&&e.insert.image&&e.insert.image===t}},{key:"getRanges",value:function(e,t){for(var n,r=0,a=[],o=$a(t);!(n=o()).done;){var i=n.value,s=i.startIndex,l=i.endIndex;a.push([r,s]),a.push([s,l+1,i]),r=l+1}return a.push([r,e.length]),a}},{key:"getCodeBlocks",value:function(e){var t=[];return $("<div/>").html(e).find(".ql-syntax").each((function(n,r){var a=$(r).html(),o=t[t.length-1]?t[t.length-1].endIndex:0,i=e.substr(o).indexOf(a)+o,s={startIndex:i,endIndex:i+a.length-1};t.push(s)})),t}}]),e}(),Xa=function(){function e(t,n){var r=this;j()(this,e),this.quill=void 0,this.options=void 0,this.quill=t,this.options={canEmbed:"function"==typeof n.canEmbed?n.canEmbed:function(){return!0},afterEmbed:"function"==typeof n.afterEmbed?n.afterEmbed:function(){},afterRemoveLast:"function"==typeof n.afterRemoveLast?n.afterRemoveLast:function(){},afterUserInsert:"function"==typeof n.afterUserInsert?n.afterUserInsert:function(){},onPaste:"function"==typeof n.onPaste?n.onPaste:function(){}};var a=t.getModule("toolbar");a.addHandler("image",Za.bind(a,this)),t.on("text-change",(function(e,t,n){t.filter((function(e){return e.insert&&e.insert.image})).map((function(e){var t=e.insert.image;Ja.imageExists(r.quill,t)||r.options.afterRemoveLast.call(r,t)})),"user"===n&&e.filter((function(e){return e.insert&&e.insert.image})).map((function(e){r.options.afterUserInsert.call(r,e.insert.image)}))})),t.clipboard.addMatcher(Node.ELEMENT_NODE,(function(e,t){return r.options.onPaste.call(r,t)}))}return R()(e,[{key:"embed",value:function(e){var t=this,n=Va().import("delta"),r=new FileReader,a=this.quill.getSelection(!0);r.onload=function(){var o=r.result;if(e.src=o,e.inline=!0,t.options.canEmbed.call(t,e)){var i=(new n).retain(a.index).delete(a.length).insert({image:o});t.quill.updateContents(i,"api"),t.options.afterEmbed.call(t,e)}},r.readAsDataURL(e)}}]),e}();function Za(e){var t=this.container.querySelector("input.ql-image[type=file]");null==t&&((t=document.createElement("input")).setAttribute("type","file"),t.setAttribute("accept",Xa.IMAGE_FILE_TYPES.join(", ")),t.classList.add("ql-image"),t.addEventListener("change",(function(){null!=t.files&&null!=t.files[0]&&(e.embed(t.files[0]),t.value="")})),this.container.appendChild(t)),t.click()}Xa.IMAGE_FILE_TYPES=["image/png","image/gif","image/jpeg","image/bmp","image/x-icon","image/svg+xml"];var eo=n(165),to=n.n(eo);function no(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Qe()(e);if(t){var a=Qe()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Me()(this,n)}}var ro=function(e){Fe()(n,e);var t=no(n);function n(){return j()(this,n),t.apply(this,arguments)}return R()(n,null,[{key:"create",value:function(){return to()(Qe()(n),"create",this).call(this)}},{key:"formats",value:function(){return!0}},{key:"getSelector",value:function(e){var t=void 0!==e?"[".concat(n.dataMatchIdName,'="').concat(e,'"]'):"";return".".concat(n.className).concat(t)}}]),n}(Va().import("blots/inline"));ro.blotName="highlight",ro.className="qre_questionEditor_text",ro.dataMatchIdName="data-match-id",ro.tagName="span";var ao=ro,oo=n(169);function io(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function so(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?io(Object(n),!0).forEach((function(t){y()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):io(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function lo(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return co(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return co(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=e[Symbol.iterator]()).next.bind(n)}function co(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var uo=function(){function e(t){j()(this,e),this.files=void 0,this.allFiles=void 0,this.options=void 0;var n=t.files,r=[];n&&(r=e.makeFilesFrontendReady(n)),this.files=r?r.slice(0):[],this.allFiles=r?r.slice(0):[],this.options=t}return R()(e,[{key:"upload",value:function(t){if(!e.getFileAlreadyExists(this.files,t)&&this.options.canUpload.call(this,t)){var n=e.getFileAlreadyExists(this.allFiles,t);n?this.files.push(n):(t.uploadStatus={},this.allFiles.push(t),this.files.push(t),this.processUpload(t))}}},{key:"processUpload",value:function(e){e.uploadStatus.progress=0,this.options.uploadFn({url:"/api/v1/attachments/",fields:{inline:e.inline},file:e,timeoutSeconds:120}).success((function(t){e.uploadStatus.progress=100,e.uploadStatus.questionAttachmentId=t.attachment_id,e.uploadStatus.question_attachment_id=t.attachment_id})).error((function(t){alert("Failed to upload "+Object(oo.a)(e.name))})).xhr((function(t){t.upload.addEventListener("progress",(function(t){t.lengthComputable&&(e.uploadStatus.progress=75*t.loaded/t.total)}),!1),t.addEventListener("progress",(function(t){t.lengthComputable&&(e.uploadStatus.progress=75+25*t.loaded/t.total)}),!1)}))}},{key:"removeFile",value:function(t){e.removeFileFromArray(this.files,t),void 0===t.uploadStatus.questionAttachmentId&&e.removeFileFromArray(this.allFiles,t)}},{key:"isDone",value:function(){for(var e=0;e<this.files.length;e++)if(100!==this.files[e].uploadStatus.progress)return!1;return!0}},{key:"getAttachmentIds",value:function(){for(var e=[],t=0;t<this.files.length;t++)this.files[t].uploadStatus.questionAttachmentId&&e.push(this.files[t].uploadStatus.questionAttachmentId);return e}},{key:"getAttachmentUrlSubstitutedText",value:function(t){if(!this.isDone())return t;for(var n=0;n<this.files.length;n++){var r=this.files[n];if(r.src&&!e.fileSrcIsUrl(r)){var a='<img src="'+r.src+'">',o=r.uploadStatus.questionAttachmentId?'<img src="'+e.getAttachmentUrl(r)+'" alt="'+r.name+'">':"";t=t.split(a).join(o)}}return t}},{key:"reset",value:function(){this.files=[],this.allFiles=[]}}],[{key:"getAttachmentUrl",value:function(e){return"/qa/attachment/"+e.uploadStatus.questionAttachmentId+"/"}},{key:"fileEquals",value:function(e,t){return"string"==typeof e.src||"string"==typeof t.src?e.src===t.src:e.name===t.name&&e.lastModified===t.lastModified&&e.type===t.type&&e.size===t.size}},{key:"getFileAlreadyExists",value:function(t,n){for(var r=0;r<t.length;r++)if(e.fileEquals(t[r],n))return t[r];return!1}},{key:"makeFilesFrontendReady",value:function(e){for(var t,n=[],r=lo(e);!(t=r()).done;){var a=t.value,o=so({},a),i=a.question_attachment_id;o.name=a.users_filename,o.src="/qa/attachment/"+i+"/",o.uploadStatus={progress:100,questionAttachmentId:i},n.push(o)}return n}},{key:"fileSrcIsUrl",value:function(e){var t;return"/"===(null===(t=e.src)||void 0===t?void 0:t.charAt(0))}},{key:"removeFileFromArray",value:function(e,t){var n=e.indexOf(t);n<0||e.splice(n,1)}}]),e}(),mo=function(){function e(){j()(this,e)}return R()(e,null,[{key:"absoluteUrlToRelativeUrl",value:function(e){return e.replace(/^(?:\/\/|[^\/]+)*\//,"/")}},{key:"changeHash",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t?window.location.replace(window.location.href.split("#")[0]+"#"+e):window.location.hash=e}}]),e}(),po=void 0===window.devLog?function(e){"www.coursehero.com"!=window.location.hostname&&console.log(e)}:window.devLog,fo=function(){function e(t,n,r,a){j()(this,e),this.quill=void 0,this.uploader=void 0,a||(a=function(e){e()}),e.registeredModules.imageHandler||(Va().register("modules/imageHandler",Xa),e.registeredModules.imageHandler=!0),e.highlightRegistered||(Va().register(ao),e.highlightRegistered=!0),this.uploader=new uo(r),this.setupAttachmentUploader(n,a),this.quill=new window.Quill(t,n),this.changeFormulaTooltipHtml()}return R()(e,[{key:"upload",value:function(t){for(var n=0;n<t.length;n++){var r=t[n];e.fileIsImage(r)?this.quill.getModule("imageHandler").embed(r):this.uploader.upload(r)}}},{key:"removeFile",value:function(e){this.uploader.removeFile(e),Ja.removeAllInlineImages(this.quill,e.src)}},{key:"reset",value:function(){this.quill.setText(""),this.uploader.reset()}},{key:"getSubmittableText",value:function(){return this.uploader.getAttachmentUrlSubstitutedText(this.quill.root.innerHTML)}},{key:"handleAmplitudeTracking",value:function(){this.quill.getModule("toolbar").controls.forEach((function(e){var t=e[0],n=e[1];n.addEventListener("click",(function(){xe("[EXQW] Widget - Format Question",{format:n.value?n.value:t})}))}))}},{key:"disable",value:function(){this.quill.enable(!1),this.quill.root.dataset.placeholder=""}},{key:"setupAttachmentUploader",value:function(e,t){var n=e.modules.imageHandler,r=this.uploader;n||(e.modules.imageHandler={}),n.__originalCanEmbed=n.canEmbed?n.canEmbed:function(){return!0},n.canEmbed=function(e){return n.__originalCanEmbed(e)&&(uo.getFileAlreadyExists(r.files,e)||r.options.canUpload.call(r,e))},n.afterEmbed=function(e){t((function(){r.upload(e)}))},n.afterRemoveLast=function(e){for(var n={src:e},a=r.files.slice(0),o=function(e){var o=a[e];uo.fileEquals(o,n)&&t((function(){r.removeFile(o)}))},i=0;i<a.length;i++)o(i)},n.afterUserInsert=function(e){var n={src:e},a=uo.getFileAlreadyExists(r.allFiles,n);a&&t((function(){r.upload(a)})),uo.getFileAlreadyExists(r.files,n)||(Ja.removeAllInlineImages(this.quill,e),po("Quill: Removing image '"+e+"' because no associated file exists for it."))},n.onPaste=function(e){return e.filter((function(e){return e.insert&&e.insert.image})).map((function(e){e.insert.image.match("^data")||(e.insert.image=mo.absoluteUrlToRelativeUrl(e.insert.image))})),e}}},{key:"changeFormulaTooltipHtml",value:function(){var e=this,t=!1;this.quill.once("editor-change",(function(){if(!t){$(e.quill.container).find(".ql-tooltip input").attr("placeholder","Example: \\sqrt{x}"),$(e.quill.container).find(".ql-tooltip input").attr("data-formula","Example: \\sqrt{x}"),$(e.quill.container).find(".ql-tooltip .ql-action").before('<p class="ql-formula-text">   To learn more about LaTeX, please refer to the comprehensive guide at    <a href="https://en.wikibooks.org/wiki/LaTeX/Mathematics" target="_blank" rel="noreferrer">Wikibooks.</a>    Please note that we do not support the alignment of equations or the insertion of matrices, graphs, figures, or tables.</p>'),t=!0}}))}}],[{key:"fileIsImage",value:function(e){return Xa.IMAGE_FILE_TYPES.indexOf(e.type)>-1}}]),e}();fo.highlightRegistered=!1,fo.registeredModules={imageHandler:!1},window.createCustomQuill=function(e,t,n,r){return new fo(e,t,n,r)};var ho=fo,vo=n(17),go=n.n(vo),yo=["bold","italic","underline","script","list","image","formula","code-block"],bo=[["bold","italic","underline"],[{script:"sub"},{script:"super"}],[{list:"ordered"},{list:"bullet"}],["image","formula","code-block"],["clean"]],wo=function(e){var t,n,a,o,i,s=e.initialContent,l=e.onQuillInstanceUpdate,c=e.onQuillContentUpdate,u=e.onQuillAttachmentsUpdate,d=e.disabled,m=e.configOptions,p=e.placeholder,f=e.autoFocus,h=e.onFocus,v=e.onBlur,g=e.disableTextLengthError,b=e.inlineError,w=e.showErrorOnEmpty,E=e.toggleExpanded,q=e.expanded,x=r.useState(),k=S()(x,2),T=k[0],N=k[1],I=r.useState([]),O=S()(I,2),P=O[0],j=O[1],A=r.useRef(null),R=w?0:1,D=!g,_=null!=b?b:"Minimum 10 characters are required.",F=null!==(t=(null==T?void 0:T.quill.getText().length)>R)&&void 0!==t&&t,B=null!==(n=(null==T?void 0:T.quill.getText().length)<11)&&void 0!==n&&n,M=!g&&(!!T&&(F&&B)),U=void 0!==q&&void 0!==E,Q=function(){E&&E(!0)},L=function(e){j(e),u&&u(e)},z=function(e,t,n){var r=t.map((function(t){return t.name===e.name&&(t.uploadStatus.progress=-1,t.uploadStatus.error=n,alert(n)),t}));L(r)},W={modules:{formula:!0,syntax:!0,toolbar:(null==m?void 0:m.toolbarOptions)||bo,imageHandler:{canEmbed:function(e){return!(e.size>5e6)||(z(e,i.uploader.files,"Image size cannot exceed 5 MB: ".concat(e.name)),!1)}}},placeholder:p||"Enter your question and any additional information",theme:"snow",formats:(null==m?void 0:m.textFormats)||yo},G={canUpload:function(){return!(this.files.length>=20)||(z(this.files[0],i.uploader.files,"You cannot upload more than 20 files"),!1)},uploadFn:function(e){var t,n=new FormData;n.set("inline",e.fields.inline),n.append("file",e.file),e.file,t=i.uploader.files,L(t),U&&!q&&Q(),xe("[EXQW] Widget - Upload Attachment",{}),C()({method:"POST",url:e.url,data:n,onUploadProgress:function(t){!function(e,t,n){var r=Math.round(n.loaded/n.total*100);r>=85&&(r=85);var a=t.map((function(t){return t.name===e.name&&(t.uploadStatus.progress=r,t.uploadStatus.error=null),t}));L(a)}(e.file,i.uploader.files,t)}}).then((function(t){e.file.uploadStatus.progress=100,e.file.uploadStatus.questionAttachmentId=t.data.attachment_id,e.file.uploadStatus.question_attachment_id=t.data.attachment_id,function(e,t,n){var r=t.map((function(t){return t.name===e.name&&(t.uploadStatus.questionAttachmentId=n.attachment_id,t.uploadStatus.question_attachment_id=n.attachment_id,t.uploadStatus.progress=100,t.uploadStatus.error=null),t}));L(r)}(e.file,i.uploader.files,t.data),c(i)})).catch((function(){z(e.file,i.uploader.files,"Failed to upload ".concat(e.file.name))}));var r={success:function(){return r},error:function(){return r},xhr:function(){return r}};return r},files:(null==s?void 0:s.attachments)||[]},H=function(){i.reset(),c(i),L([])};r.useEffect((function(){f&&(null==T||T.quill.focus())}),[f]),r.useEffect((function(){return T||((i=new ho(A.current,W,G)).quill.root.innerHTML=(null==s?void 0:s.text)||"",i.handleAmplitudeTracking(),i.quill.on("text-change",(function(e,t,n){"user"===n&&i.quill.getContents().diff(t).ops.forEach((function(e){e.insert&&e.insert.image&&L(i.uploader.files)}));c(i)})),i.quill.on("selection-change",(function(e,t){null===e&&null!==t&&v?v():null!==e&&null===t&&h&&h()})),d&&i.disable(),f&&i.quill.focus(),(null==s?void 0:s.attachments)&&L(i.uploader.files),N(i),l&&l(i)),window.addEventListener("QUILL-WIDGET:RESET-EDITOR",H),function(){window.removeEventListener("QUILL-WIDGET:RESET-EDITOR",H)}}),[]);var V=U?r.createElement("div",{className:"".concat(Ya.quillExpandSidebar)},r.createElement("span",{className:"".concat(Ya.positionRelative)},r.createElement(at.Tooltip,{tooltipContent:q?"Minimize":"Expand",position:"top",showArrow:!1},r.createElement("i",{onClick:Q,className:go()(["".concat(Ya.quillSidebarExpandToggle)],{"chi-shrink-diagonal":q,"chi-expand-diagonal":!q})})))):null;return r.createElement("div",{className:"".concat(Ya.quillWidget)},r.createElement("div",{className:go()(["".concat(Ya.quillWidgetEditor)],(a={},y()(a,"".concat(Ya.quillValidationFail),M),y()(a,"".concat(Ya.quillReduced),U&&!q),a))},r.createElement("div",{ref:A}),P.length>0&&r.createElement("div",{className:"".concat(Ya.quillAttachments)},Y()(P).reverse().map((function(e){var t=100===e.uploadStatus.progress;return r.createElement("div",{key:e.name,className:go()(Ya.quillAttachment,y()({},"".concat(Ya.borderBottom0),U))},r.createElement("div",{className:"".concat(Ya.quillUploadProgressBarContainer)},r.createElement("div",{className:go()(["".concat(Ya.quillUploadProgressBar)],{complete:t}),style:{width:"".concat(e.uploadStatus.progress,"%")}},!t&&r.createElement("div",{className:"".concat(Ya.quillUploadProgressBackground)})),r.createElement("div",{className:"".concat(Ya.quillUploadProgressBarContent)},r.createElement("i",{className:"chi-document"}),r.createElement("span",{className:"".concat(Ya.quillFileName)},e.name),r.createElement("button",{className:"".concat(Ya.quillFileDeleteButton),onClick:function(){return t=e,void(T&&(T.removeFile(t),L(T.uploader.files)));var t},"aria-label":"Delete file"},r.createElement("i",{className:"".concat(Ya.quillFileDelete," chi-remove")})))))}))),V),D&&r.createElement("div",{className:go()(["".concat(Ya.qlMinChar)],(o={},y()(o,"".concat(Ya.textAlternativeDangerRed),M),y()(o,"".concat(Ya.textNeutral500),!M),o))},_))},Eo=function(e){var t=e.caption;return r.createElement("div",{className:"row mb-1"},r.createElement("div",{className:"col"},r.createElement("div",{className:"caption"},t,":")))},qo=(n(320),function(e){var t=e.answerText,n=e.setAnswerText;return r.createElement(r.Fragment,null,r.createElement(Eo,{caption:"Answer"}),r.createElement(wo,{disableTextLengthError:!0,initialContent:{text:t},onQuillContentUpdate:function(e){n(e.getSubmittableText())},configOptions:{toolbarOptions:[["bold","italic","underline"],[{script:"sub"},{script:"super"}],[{list:"ordered"},{list:"bullet"}],["formula","code-block"],["clean"]],textFormats:["bold","italic","underline","script","list","formula","code-block"]},placeholder:"Write a quick summary of your answer"}))}),xo=n(167);n(323);function So(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var ko=["image/png","image/gif","image/jpeg","image/bmp","image/x-icon","image/svg+xml"],To=function(e){var t=e.explanationText,n=e.setExplanationText,a=e.uploadedFiles,o=e.setUploadedFiles,i=r.useState(null),s=S()(i,2),l=s[0],c=s[1],u=r.createRef(),d=null==l?void 0:l.upload,m=r.useCallback((function(e,t,n){d&&e.length>0&&d(e),t.length>0&&t.forEach((function(e){e.size>5e6||!ko.includes(e.type)?Co(e):alert("Image not accepted.")}))}),[d]),p=Object(xo.a)({accept:ko.join(", "),maxSize:5e6,onDrop:m}),f=p.getRootProps,h=p.getInputProps,v=p.isDragActive,g=r.useMemo((function(){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?So(Object(n),!0).forEach((function(t){y()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):So(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},v?{opacity:.5,border:"2px dashed #404245"}:{})}),[v]);return r.createElement(r.Fragment,null,r.createElement(Eo,{caption:"Explanation"}),r.createElement("div",{className:"dropzone-wrapper"},r.createElement("div",lt()({className:"dropzone"},f({style:g})),r.createElement("input",lt()({},h(),{ref:u,onClick:function(e){e.target.value=null},onChange:function(e){No(l,e.target.files)}})),r.createElement(wo,{disableTextLengthError:!0,initialContent:{text:t,attachments:a},onQuillInstanceUpdate:c,onQuillContentUpdate:function(e){n(e.getSubmittableText())},onQuillAttachmentsUpdate:o,placeholder:"Show your work and explain, in detail, how you arrived at your answer"})),r.createElement("div",{className:"row"},r.createElement("div",{className:"attach-file-section bg-neutral-200 col"},r.createElement(Ne.Button,{size:"sm",variant:"tertiary",className:"attach-file-button p-0",type:"file",onClick:function(){u.current.click()}},r.createElement("i",{className:"chi-paperclip fa-paperclip"}),r.createElement("span",null,"Attach file(s)")),r.createElement("span",{className:"text-neutral-500"}," ","or drag and drop file(s) in this box.")))),r.createElement("div",{className:"row mt-2",style:{display:0==a.length?"none":"block"}},r.createElement("div",{className:"legal text-neutral-700 col"},r.createElement("p",null,"Users are prohibited from uploading or submitting copyright infringing materials (including without limitation copies made without the consent of the copyright owner of testing materials, textbooks, instructor's solution manuals, test banks, lecture notes, slide presentations or related copyrighted works, in whole or in part). By continuing you are agreeing that: (1) you own the copyrights covering the files to be uploaded or have express permission from the copyright owner(s) to upload those files; (2) your uploading of these files will not violate any law, regulation, or ethics code; and (3) uploading these files will not violate Course Hero's"," ",r.createElement("a",{href:"/terms-of-use/",target:"_blank",rel:"noreferrer"},"Terms of Use"),"."))))},Co=function(e){e.size>5e6?alert("Image size cannot exceed 5 MB: ".concat(e.name)):ko.includes(e.type)||alert("Image type not supported: ".concat(e.name))},No=function(e,t){Object.values(t).forEach((function(t){t.size>5e6||!ko.includes(t.type)?Co(t):null==e||e.upload([t])}))},Io=function(e){var t=e.optionIdentifier,n=e.onChangeHandler,a=e.checked;return r.createElement("div",{className:"form-group form-check mcq-answer-option"},r.createElement("input",{className:"form-check-input mcq-input",type:"checkbox",id:"stackedCheck".concat(t),checked:a,onChange:n}),r.createElement("label",{className:"form-check-label",htmlFor:"stackedCheck".concat(t)},t))},Oo=function(e){var t=e.setAnswerText,n=r.useState([]),a=S()(n,2),o=a[0],i=a[1];r.useEffect((function(){t(o.join(" and "))}),[o,t]);var s=It();if(void 0===s)return null;var l=s.question.answerIdentifiers;return r.createElement(r.Fragment,null,r.createElement(Eo,{caption:"Select the answer"}),r.createElement("div",{className:"mt-2 form-inline form-group"},l.map((function(e){return r.createElement("div",{key:e},r.createElement(Io,{optionIdentifier:e,onChangeHandler:function(){Po(e,t,{selectedOptions:o,setSelectedOptions:i})},checked:o.includes(e)}))}))))},Po=function(e,t,n){var r=n.selectedOptions,a=n.setSelectedOptions,o=r.find((function(t){return t===e}));a(void 0!==o?function(e){return e.filter((function(e){return e!==o})).sort()}:function(t){return[].concat(Y()(t),[e]).sort()})};function jo(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Ao(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ao(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=e[Symbol.iterator]()).next.bind(n)}function Ao(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ro,Do=function(e){var t=e.questionThreadId,n=e.userId,a=e.displayName,o=e.setShowGetNextQuestion,i=e.isTextbookQuestion,s=e.setComplianceOverlapMessage,l=Object(r.useState)(""),c=S()(l,2),u=c[0],d=c[1],m=Object(r.useState)(""),h=S()(m,2),v=h[0],g=h[1],y=Object(r.useState)(!1),b=S()(y,2),w=b[0],E=b[1],q=Object(r.useState)(""),x=S()(q,2),k=x[0],T=x[1],C=Object(r.useState)([]),N=S()(C,2),I=N[0],O=N[1],P=Object(r.useState)(!1),j=S()(P,2),A=j[0],R=j[1],D=Object(r.useState)(!1),_=S()(D,2),F=_[0],B=_[1],M=It(),U=Ot({qaThreadId:t,parentThreadType:null,userId:n,displayName:a}).answerQuestion;if(void 0===M)return null;var Q=M.question.isMCQ;return r.createElement("div",{className:"answer-explanation mb-2","data-testid":"answer-explanation"},r.createElement(Ha.Panel,{className:"p-3 container",elevated:!0,bordered:!0},r.createElement("div",{className:"row"},r.createElement("div",{className:"col mt-1 mb-2 pl-3 pr-3"},r.createElement(_t.Prompt,{className:"panel panel-bordered"},r.createElement(_t.PromptIcon,null),r.createElement("div",null,r.createElement("span",{className:"caption"},"Reminder: "),r.createElement("span",{style:{whiteSpace:"pre-wrap"}},"If you copy content from another source, you violate our policy, and your account may be blocked.","\n","See our"," ",r.createElement("a",{href:"https://coursehero.helpdocs.io/article/GM0E1lQEXy-violations-probation-bans",target:"_blank",rel:"noreferrer",onClick:function(){ke({intent:"Redirect",actionType:ge.LINK,text:"warning and violations policy.",xpath:"answer page",destinationURL:"https://coursehero.helpdocs.io/article/GM0E1lQEXy-violations-probation-bans"})}},"warning and violations policy.")))))),i&&r.createElement("div",{className:"row"},r.createElement("div",{className:"col mt-1 mb-2 pl-3 pr-3"},r.createElement(_t.Prompt,{className:"panel panel-bordered"},r.createElement(_t.PromptIcon,null),r.createElement("div",null,r.createElement("span",{className:"caption"},"Reminder:"),r.createElement("span",null," ","For this question, do not include the question text as part of your answer/explanation. Your submission may be flagged if this guideline is not followed."))))),""!==k&&r.createElement("div",{className:"row"},r.createElement("div",{className:"error-prompt col pl-3 pr-3 mb-1"},r.createElement(_t.Prompt,{className:"panel panel-bordered"},r.createElement(_t.PromptIcon,null),r.createElement("span",{className:"error-text"},k),r.createElement(_t.PromptClose,{onClick:function(){T("")}})))),r.createElement("div",{className:"container answer-container"},Q?r.createElement(Oo,{setAnswerText:d}):r.createElement(et,{errorDescAction:p,errorBoundaryClassNames:"mt-2 mb-3",errorBoundaryStyles:{maxWidth:"55rem"}},r.createElement(qo,{answerText:u,setAnswerText:d}))),r.createElement("div",{className:"container explanation-container mt-2"},r.createElement(et,{errorDescAction:f,errorBoundaryClassNames:"my-4",errorBoundaryStyles:{maxWidth:"55rem"}},r.createElement(To,{explanationText:v,setExplanationText:g,uploadedFiles:I,setUploadedFiles:Fo(O,R)}))),r.createElement("div",{className:"row align-items-center mt-3 pl-2"},r.createElement("div",{className:"col-sm-5 order-2 order-sm-1 offset-sm-4"},r.createElement(Ne.Button,{disabled:!A,variant:"primary",onClick:function(){_o(u,v,I,U,T,w,E,o,i,s)}},w?r.createElement("i",{className:"loadingIcon chi-loading spinner pr-1 pl-1 pt-1 pb-1"}):"Post Answer")),r.createElement("div",{className:"col-sm-3 order-1 order-sm-2 mb-2 mb-sm-0"},r.createElement(Ne.Button,{variant:"link",onClick:function(){B(!0),ke({intent:"Modal",actionType:ge.LINK,text:"How to provide a great answer"})}},"How to provide a great answer")))),F&&r.createElement(Pe,{isOpen:F,onClose:function(){return B(!1)}}))},_o=function(){var e=q()(w.a.mark((function e(t,n,r,a,o,i,s,l,c,u){var d,m,p;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!i){e.next=2;break}return e.abrupt("return");case 2:if(s(!0),void 0===a){e.next=8;break}return e.next=6,a({displayText:t,explanation:n,attachments:r});case 6:(d=e.sent).error?(o(d.error.message),s(!1)):d&&(m=d.containsQuestionText,p=d.threadId,m&&c?(s(!1),u(!0),l(!0)):m?window.location.href="/qa/review/tutor-answer/".concat(p):(s(!1),l(!0)));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,a,o,i,s,l,c,u){return e.apply(this,arguments)}}(),Fo=function(e,t){return function(n){for(var r,a=!0,o=jo(n);!(r=o()).done;){var i=r.value.uploadStatus;if(100!==i.progress&&(void 0===i.error||null===i.error||""===i.error)){a=!1;break}}e(n),t(a)}},Bo=n(50),Mo=function(e){var t=e.hasViolation,n=e.isCopyright,a=e.isPlagiarism;e.askerRating;return t||n||a?r.createElement("div",{className:"d-flex ".concat(Bo.hasViolation)},r.createElement("i",{className:"chi-alert-filled"}),r.createElement("div",{className:"pl-2"},r.createElement("span",null,"Your answer has been flagged"," ",function(e,t,n){return e?"for violation":t?"for copyright infringement":n?"for plagiarism":""}(t,n,a),"."," "),r.createElement("span",null,r.createElement("a",{href:"https://www.coursehero.com/honor-code/",target:"_blank",rel:"noreferrer"},"Review our honor code"),r.createElement("span",null,". If you have any questions, contact us using the chat icon at the bottom right corner.")))):null},Uo=function(e){var t=e.askerRating,n=e.hasViolation,a=e.qaThreadComplianceSummary,o=a.isPlagiarism,i=a.isCopyright,s=n||o||i?Bo.ratingSupportNoBorder:Bo.ratingSupport;return r.createElement("div",{className:"row ".concat(s)},r.createElement("div",{className:"d-flex flex-wrap w-100"},r.createElement("div",{className:"col-12 col-sm-9 ".concat(Bo.rating)},r.createElement(Mo,{askerRating:t,hasViolation:n,isPlagiarism:o,isCopyright:i})),r.createElement("div",{className:"col-12 col-sm-3 ".concat(Bo.support)},r.createElement(at.Tooltip,{position:"bottom",showArrow:!1,tooltipContent:r.createElement("p",{className:Bo.tooltipContent},"For any issues related to this question, contact us using the chat icon at the bottom right corner. Please include the URL to this answer page for reference.")},r.createElement("div",null,r.createElement("span",{className:Bo.contactSupport},"Contact support"),r.createElement("i",{className:"chi-help-circle-filled pl-2"}))))))},Qo=function(e){var t=e.qaThreadId,n=e.explanationText,a=e.attachments,o=e.isQuestionClosed,i=e.hasViolation,s=e.flags,l=e.comments,c=e.postAnswerPage,u=Object(r.useState)(!1),d=S()(u,2),m=d[0],p=d[1],f=de(l,c),h=ce(t,i,s);return r.createElement(sn,{title:"Explanation",displayText:n,qaThreadId:t,isQuestionClosed:o,showComments:m,attachments:a,comments:l,options:r.createElement(r.Fragment,null,r.createElement(Ne.Button,{variant:"tertiary",size:"sm",onClick:function(){return p(!m)}},f),!c&&r.createElement(rn,{flagStatus:h,qaThreadId:t,threadType:Z.Answer,parentThreadType:null}))})},Lo=function(e){var t=e.message,n=new ut.Parser;return r.createElement("div",{className:"compliance-summary row mb-2"},r.createElement("div",{className:"col-12 pl-0"},r.createElement(_t.Prompt,{variant:"banner",color:"danger"},r.createElement(_t.PromptIcon,null),r.createElement("span",{className:"ml-3 compliance-error-message text-white"},n.parse(t)))))};n(324);!function(e){e.ANSWER_IS_PROCESSING="Your answer is currently being processed.",e.ANSWER_COPYRIGHT_DETECTED="Your answer has been flagged as copyright infringement. Please review our <a href='/honor-code/' target='_blank'>honor code</a> and submit a new answer.",e.ANSWER_PLAGIARISM_DETECTED="Your answer has been flagged as plagiarism. Please review our <a href='/honor-code/' target='_blank'>honor code</a> and submit a new answer.",e.ANSWER_QUESTION_CONTENT_DETECTED="Your explanation contains the question text. Since the question has been closed or cancelled, it is unavailable for revision."}(Ro||(Ro={}));var zo=function(e){var t=e.complianceSummary,n=e.answerUserId,a=e.userId,o=e.questionStatus,i=t.isCompliant,s=void 0===i?null:i,l=t.isProcessing,c=void 0!==l&&l,u=t.isPlagiarism,d=void 0!==u&&u,m=t.isCopyright,p=void 0!==m&&m,f=t.questionContentDetected,h=void 0!==f&&f;return a===n&&!s?r.createElement("div",{className:"compliance-summary-container container mb-2"},c&&r.createElement(Lo,{message:Ro.ANSWER_IS_PROCESSING}),d&&r.createElement(Lo,{message:Ro.ANSWER_PLAGIARISM_DETECTED}),p&&r.createElement(Lo,{message:Ro.ANSWER_COPYRIGHT_DETECTED}),"Closed"==o&&h&&r.createElement(Lo,{message:Ro.ANSWER_QUESTION_CONTENT_DETECTED})):null},Wo=function(e){var t=e.userId,n=e.questionStatus,a=e.qaThreadId,o=e.displayText,i=e.explanation,s=e.attachments,l=e.hasViolation,c=e.answerUser,u=e.comments,d=e.flags,m=e.qaThreadComplianceSummary,p=e.askerRating,f=e.postAnswerPage,h=new ut.Parser,v=o.split("<strong>Explanation:</strong>");return r.createElement("div",{className:"submitted-answer-explanation container"},r.createElement("div",{className:"row"},r.createElement(zo,{complianceSummary:m,answerUserId:null==c?void 0:c.userId,userId:t,questionStatus:n})),r.createElement("div",{className:"row"},c&&r.createElement("div",{className:"col-sm-1 pl-5 pl-sm-0 answer-posted-time-container"},r.createElement(dn,{className:"pr-0",profilePictureUrl:c.profilePictureUrl})),r.createElement("div",{className:"col-12 col-sm-9"},r.createElement(Uo,{askerRating:p,qaThreadComplianceSummary:m,hasViolation:l}),r.createElement("div",{className:"container pl-0 pr-0"},r.createElement("div",{className:"row answer"},r.createElement("div",{className:"col-12"},r.createElement("strong",null,"Answer"),":"),r.createElement("div",{className:"col-12 pl-1"},h.parse(v[0]))),r.createElement("div",{className:"row"},r.createElement("div",{className:"col pl-0 pr-0"},r.createElement(Qo,{qaThreadId:a,explanationText:i,attachments:s,isQuestionClosed:"Closed"===n,hasViolation:l,flags:d,comments:u,postAnswerPage:f})))))))},Go=function(e){var t=e.userId,n=e.postAnswerPage,a=It(),o=a.answers,i=a.question.questionStatus,s=o.slice().filter((function(e){var n;return(null===(n=e.user)||void 0===n?void 0:n.userId)===t})).sort((function(e,t){return e.date>t.date?-1:1})),l=s.length;return 0===l?null:r.createElement("div",{className:"submitted-answer-explanations container"},s.map((function(e){var a=e.qaThreadId,o=e.displayText,s=e.explanation,c=e.attachments,u=e.date,d=e.hasViolation,m=e.user,p=e.comments,f=e.flags,h=e.qaThreadComplianceSummary,v=e.askerRating,g=B(new Date,u),y=U(g,{startText:"Answered",endText:"ago"});return r.createElement(r.Fragment,{key:a},r.createElement("div",{className:"row align-items-center ml-2 ml-sm-0"},r.createElement("div",{className:"col-4 col-sm-2 h4 px-0"},n?"Your answer":"".concat(l," ").concat(D.pluralize(l,"Answer"))),r.createElement("span",{className:"text-neutral-600 pt-1 mr-1","data-testid":"answered-date"},y)),r.createElement("div",{className:"row mt-2 mb-2"},r.createElement("div",{className:"divider col"})),r.createElement("div",{className:"row"},r.createElement(Wo,{userId:t,questionStatus:i,qaThreadId:a,displayText:o,explanation:s,attachments:c,hasViolation:d,answerUser:m,comments:p,flags:f,qaThreadComplianceSummary:h,askerRating:v,postAnswerPage:n})))})))},Ho=(n(325),function(e){var t=e.userId,n=e.displayName,a=e.includeSkippedQuestions,o=e.selectedCategories,i=e.isTextbookQuestion,s=e.postAnswerPage,l=It(),c=Object(r.useState)(!1),u=S()(c,2),d=u[0],m=u[1],p=Object(r.useState)(!1),f=S()(p,2),h=f[0],v=f[1];if(void 0===l)return null;var g=l.question,y=g.qaThreadId,b=g.questionStatus,w=l.answers,E=w.slice().sort((function(e,t){return e.date>t.date?-1:1})),q=0!==w.length,x=E.filter((function(e){var n;return(null===(n=e.user)||void 0===n?void 0:n.userId)===t})),k=(0===x.length||!1===x[0].qaThreadComplianceSummary.isCompliant&&!1===x[0].qaThreadComplianceSummary.isProcessing)&&"Closed"!==b,T="/api/v1/users/photo/".concat(t,"/");return r.createElement("div",{className:"mt-8"},d&&r.createElement(ga,{includeSkippedQuestions:a,selectedCategories:o,onClose:function(){m(!1)},showComplianceOverlapMessage:h,showSkipMessage:!1}),k&&r.createElement("div",{className:"answer-explanation-container"},r.createElement(r.Fragment,null,r.createElement(dn,{profilePictureUrl:T}),r.createElement(Do,{questionThreadId:y,userId:t,displayName:n,setShowGetNextQuestion:m,setComplianceOverlapMessage:v,isTextbookQuestion:i}))),q&&r.createElement("div",{className:"submitted-answer-explanation-container"},r.createElement(Go,{userId:t,postAnswerPage:s})))}),Yo=(n(326),function(e){var t=e.questionId,n=e.userId,a=e.skipReasons,o=e.includeSkipped,i=e.selectedTutoringCategories,s=e.canExtendReservation,l=e.userCanSeeATDLink,u=e.userCanSeePrice,p=e.displayName,f=e.isPollingBackupActive,h=e.showWeeklyBonus,v=e.showWeeklyBonusLevelUpCard,g=e.isTextbookQuestion,y=e.postAnswerPage;return r.createElement(et,{errorDescAction:c,errorBoundaryClassNames:"justify-content-center m-8"},r.createElement(r.Fragment,null,r.createElement(zt,{showWeeklyBonus:h,showWeeklyBonusLevelUpCard:v}),r.createElement(Nt,{questionId:t},r.createElement("div",{className:"app-container"},o&&r.createElement(_t.Prompt,{className:"my-2"},r.createElement(_t.PromptIcon,null),r.createElement("p",null,'You are currently cycling through skipped and new questions (if any). Click "Back to Dashboard" to stop viewing skipped questions.')),r.createElement(et,{errorDescAction:m,errorBoundaryStyles:{maxWidth:"55rem",marginLeft:"12rem"}},r.createElement(Ca,{userId:n,reasons:a,includeSkippedQuestions:o,selectedCategories:i,canExtendReservation:s,userCanSeeATDLink:l,userCanSeePrice:u,isPollingBackupActive:f,postAnswerPage:y})),r.createElement(et,{errorDescAction:d,errorBoundaryClassNames:"mt-6",errorBoundaryStyles:{maxWidth:"55rem",marginLeft:"12rem"}},r.createElement(Ho,{userId:n,displayName:p,includeSkippedQuestions:o,selectedCategories:i,isTextbookQuestion:g,postAnswerPage:y}))))))}),Vo=window,$o=document.getElementById("writeAnswerApp"),Ko=Vo._props;a.render(r.createElement(Yo,Ko),$o)},50:function(e,t,n){e.exports={"rating-support":"rating-support-3jvKG",ratingSupport:"rating-support-3jvKG","rating-support-no-border":"rating-support-no-border-2zSiY",ratingSupportNoBorder:"rating-support-no-border-2zSiY",rating:"rating-1uYii",support:"support-20TYE","rating-thumbs-down":"rating-thumbs-down-31agp",ratingThumbsDown:"rating-thumbs-down-31agp","rating-thumbs-up":"rating-thumbs-up-Ln2sP",ratingThumbsUp:"rating-thumbs-up-Ln2sP","rating-comment":"rating-comment-1dFhG",ratingComment:"rating-comment-1dFhG","icon-thumbs-down":"icon-thumbs-down-2kh8o",iconThumbsDown:"icon-thumbs-down-2kh8o","icon-thumbs-up":"icon-thumbs-up-2F-GJ",iconThumbsUp:"icon-thumbs-up-2F-GJ","icon-comment":"icon-comment-1cYPf",iconComment:"icon-comment-1cYPf","tooltip-content":"tooltip-content-3cUV2",tooltipContent:"tooltip-content-3cUV2","contact-support":"contact-support-YkYPv",contactSupport:"contact-support-YkYPv","has-violation":"has-violation-HwZPp",hasViolation:"has-violation-HwZPp"}},63:function(e,t){e.exports=window.ReactDOM},81:function(e,t){e.exports=window.moment}});
//# sourceMappingURL=app.5770421af8d91778dc93.js.map